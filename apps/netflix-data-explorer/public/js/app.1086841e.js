(function(e){function t(t){for(var s,n,c=t[0],i=t[1],l=t[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var c=a[n];0!==r[c]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r={app:0},o=[];function c(e){return i.p+"js/"+({"admin~cassandra-explore~cassandra-query-edit":"admin~cassandra-explore~cassandra-query-edit",admin:"admin",cassandra:"cassandra","cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore":"cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore","cassandra-create-table~cassandra-query-edit":"cassandra-create-table~cassandra-query-edit","cassandra-create-table":"cassandra-create-table","cassandra-explore~cassandra-query-edit~dynomite-explore":"cassandra-explore~cassandra-query-edit~dynomite-explore","cassandra-query-edit":"cassandra-query-edit","cassandra-explore~cassandra-explore-drop":"cassandra-explore~cassandra-explore-drop","cassandra-explore":"cassandra-explore","dynomite-explore":"dynomite-explore","cassandra-explore-drop":"cassandra-explore-drop",common:"common","dynamic-services28":"dynamic-services28","dynamic-services30":"dynamic-services30","dynamic-services32":"dynamic-services32",dynamic0:"dynamic0",dynamic1:"dynamic1"}[e]||e)+"."+{"admin~cassandra-explore~cassandra-query-edit":"c128fc51",admin:"65c6a761",cassandra:"8ef86d35","cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore":"af035208","cassandra-create-table~cassandra-query-edit":"14859ffe","cassandra-create-table":"0c419846","cassandra-explore~cassandra-query-edit~dynomite-explore":"23983041","cassandra-query-edit":"6bda15b3","cassandra-explore~cassandra-explore-drop":"07344730","cassandra-explore":"69514461","dynomite-explore":"82240fa5","cassandra-explore-drop":"03cb4c2a",common:"7a4ebf5d","dynamic-services28":"35e4afad","dynamic-services30":"56ba074f","dynamic-services32":"a963930e",dynamic0:"439a74c0",dynamic1:"c3a9bde1"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a={admin:1,cassandra:1,"cassandra-create-table":1,"cassandra-query-edit":1,"cassandra-explore~cassandra-explore-drop":1,"cassandra-explore":1,"dynomite-explore":1,"cassandra-explore-drop":1,common:1,dynamic1:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var s="css/"+({"admin~cassandra-explore~cassandra-query-edit":"admin~cassandra-explore~cassandra-query-edit",admin:"admin",cassandra:"cassandra","cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore":"cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore","cassandra-create-table~cassandra-query-edit":"cassandra-create-table~cassandra-query-edit","cassandra-create-table":"cassandra-create-table","cassandra-explore~cassandra-query-edit~dynomite-explore":"cassandra-explore~cassandra-query-edit~dynomite-explore","cassandra-query-edit":"cassandra-query-edit","cassandra-explore~cassandra-explore-drop":"cassandra-explore~cassandra-explore-drop","cassandra-explore":"cassandra-explore","dynomite-explore":"dynomite-explore","cassandra-explore-drop":"cassandra-explore-drop",common:"common","dynamic-services28":"dynamic-services28","dynamic-services30":"dynamic-services30","dynamic-services32":"dynamic-services32",dynamic0:"dynamic0",dynamic1:"dynamic1"}[e]||e)+"."+{"admin~cassandra-explore~cassandra-query-edit":"31d6cfe0",admin:"36de1add",cassandra:"f9d4d7a4","cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore":"31d6cfe0","cassandra-create-table~cassandra-query-edit":"31d6cfe0","cassandra-create-table":"bfcba690","cassandra-explore~cassandra-query-edit~dynomite-explore":"31d6cfe0","cassandra-query-edit":"ec3d05e4","cassandra-explore~cassandra-explore-drop":"d736e558","cassandra-explore":"c8d42686","dynomite-explore":"ab694634","cassandra-explore-drop":"8036b181",common:"311af28e","dynamic-services28":"31d6cfe0","dynamic-services30":"31d6cfe0","dynamic-services32":"31d6cfe0",dynamic0:"31d6cfe0",dynamic1:"f8292c65"}[e]+".css",r=i.p+s,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var l=o[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===r))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===s||u===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var s=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=s,delete n[e],m.parentNode.removeChild(m),a(o)},m.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){n[e]=0})));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var o=new Promise((function(t,a){s=r[e]=[t,a]}));t.push(s[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=r[e];if(0!==a){if(a){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"029f":function(e,t,a){"use strict";a.r(t),a.d(t,"getClusterKeyspacesMetrics",(function(){return r})),a.d(t,"getKeyspaceTableMetrics",(function(){return o})),a.d(t,"getTableMetrics",(function(){return c}));var s=a("38cd"),n=a("99c6");async function r(e){try{const t=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/metrics/keyspaces`);return t.data}catch(t){throw Object(n["a"])(t)}}async function o(e,t,a,r){try{const n=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/metrics/keyspaces/${t}/tables?range=${a}&step=${r}`);return n.data}catch(o){throw Object(n["a"])(o)}}async function c(e,t,a,r,o){try{const n=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/metrics/keyspaces/${t}/tables/${a}?range=${r}&step=${o}`);return n.data}catch(c){throw Object(n["a"])(c)}}},"04d1":function(e,t,a){"use strict";a.r(t),a.d(t,"getKeyCount",(function(){return r}));var s=a("38cd"),n=a("99c6");async function r(e){try{const t=await Object(s["a"])().get("/REST/datastores/dynomite/clusters/"+e),a=t.data;return a.totalKeys}catch(t){throw Object(n["a"])(t)}}},"0613":function(e,t,a){"use strict";var s=a("220c"),n=a("fc60");const r="SET_INFO",o="SET_KEYSPACES",c="SET_KEYSPACES_LOADING",i="SET_SCHEMA",l="SET_SCHEMA_LOADING",u="SET_DATACENTERS",d="SET_DATACENTERS_LOADING",m="SET_DATA_TYPES",p="SET_DATA_TYPES_LOADING",y={datacenters:[],datacentersLoading:!1,info:void 0,keyspaces:[],keyspacesLoading:!1,schema:[],schemaLoading:!1,dataTypesLoading:!1,dataTypes:{standard:[],user:[]}},h={},f={async[n["a"].FetchClusterInfo]({commit:e},{cluster:t}){const a=await Object(s["fetchClusterInfo"])(t);e(r,{info:a})},async[n["a"].FetchKeyspaces]({commit:e},{cluster:t}){e(c,{loading:!0}),e(o,{keyspaces:[]});try{const a=await Object(s["fetchKeyspaces"])(t);e(o,{keyspaces:a})}finally{e(c,{loading:!1})}},async[n["a"].FetchSchema]({commit:e},{cluster:t}){e(l,{loading:!0});try{const a=await Object(s["fetchSchema"])(t);e(i,{schema:a})}finally{e(l,{loading:!1})}},async[n["a"].FetchDatacenters]({commit:e},{cluster:t}){e(d,{loading:!0});try{const a=await Object(s["fetchDatacenters"])(t);e(u,{datacenters:a})}finally{e(d,{loading:!1})}},async[n["a"].FetchDataTypes]({commit:e},{cluster:t,keyspace:a}){e(p,{loading:!0});try{const n=await Object(s["fetchDataTypes"])(t,a);e(m,{dataTypes:n})}finally{e(p,{loading:!1})}}},b={[r](e,{info:t}){e.info=t},[o](e,{keyspaces:t}){e.keyspaces=t},[c](e,{loading:t}){e.keyspacesLoading=t},[i](e,{schema:t}){e.schema=t},[l](e,{loading:t}){e.schemaLoading=t},[u](e,{datacenters:t}){e.datacenters=t},[d](e,{loading:t}){e.datacentersLoading=t},[p](e,{loading:t}){e.dataTypesLoading=t},[m](e,{dataTypes:t}){e.dataTypes=t}};var g={state:y,getters:h,actions:f,mutations:b};const v="SET_KEYSPACE",C="SET_KEYSPACE_ERROR",T="SET_KEYSPACE_TABLES",x="SET_KEYSPACE_LOADING",S="SET_KEYSPACE_TABLES_LOADING",w="SET_TABLE_SCHEMA",E="SET_TABLE_SCHEMA_LOADING",k="SET_KEYSPACE_UDTS",_={keyspace:void 0,keyspaceError:void 0,keyspaceLoading:!1,keyspaceTables:[],keyspaceTablesLoading:!1,keyspaceUDTs:[],tableSchema:void 0,tableSchemaLoading:!1},$={async[n["a"].SetCurrentKeyspace]({commit:e,dispatch:t},{clusterName:a,keyspaceName:r}){try{e(C,{error:void 0}),e(x,{loading:!0});const o=await Object(s["fetchKeyspace"])(a,r);e(v,{keyspace:o}),t(n["a"].FetchKeyspaceTables,{clusterName:a,keyspaceName:r}),t(n["a"].FetchKeyspaceDataTypes,{clusterName:a,keyspaceName:r})}catch(o){e(C,{error:o})}finally{e(x,{loading:!1})}},async[n["a"].FetchKeyspaceTables]({commit:e},{clusterName:t,keyspaceName:a}){try{e(S,{loading:!0});const n=await Object(s["fetchKeyspaceTables"])(t,a);e(T,{keyspaceTables:n})}finally{e(S,{loading:!1})}},async[n["a"].FetchKeyspaceDataTypes]({commit:e},{clusterName:t,keyspaceName:a}){const n=await Object(s["fetchDataTypes"])(t,a);e(k,{udts:n.user})},async[n["a"].FetchTable]({commit:e},{cluster:t,keyspace:a,table:n}){if(n)try{e(E,{loading:!0});const r=await Object(s["fetchTable"])(t,a,n);e(w,{tableSchema:r})}finally{e(E,{loading:!1})}else e(w,{tableSchema:void 0})}},O={[v](e,{keyspace:t}){e.keyspace=t},[x](e,{loading:t}){e.keyspaceLoading=t},[T](e,{keyspaceTables:t}){e.keyspaceTables=t},[S](e,{loading:t}){e.keyspaceTablesLoading=t},[w](e,{tableSchema:t}){e.tableSchema=t},[E](e,{loading:t}){e.tableSchemaLoading=t},[k](e,{udts:t}){e.keyspaceUDTs=t},[C](e,{error:t}){e.keyspaceError=t}};var q={state:_,actions:$,mutations:O},N=a("2ef0");const A=50;class L{constructor(e){this.datastore=e;const t=window.localStorage.getItem(this.getKey(this.datastore))||"{}";this.queryStore=JSON.parse(t)}save(){return window.localStorage.setItem(this.getKey(this.datastore),JSON.stringify(this.queryStore)),this}getRecentQueries(e){return this.queryStore&&this.queryStore[e]||[]}setRecentQueries(e,t){return this.queryStore[e]=t,this}getKey(e){return`recent${Object(N["capitalize"])(e)}Queries`}}function K(e,t,a){if(!a)return;const s=new L(e),n=s.getRecentQueries(t),r=n.find(e=>e.query===a);r?r.timestamp=Date.now():(n.length>A-1&&n.splice(0,1),n.push({query:a,timestamp:Date.now()})),s.setRecentQueries(t,n).save()}function I(e,t){return t?new L(e).getRecentQueries(t):[]}const j="SET_RECENT_QUERIES",R={queryHistory:[]},D={async[n["a"].AddQueryToHistory]({dispatch:e},{cluster:t,query:a}){K("cassandra",t,a),e(n["a"].LoadQueryHistory,{cluster:t})},async[n["a"].LoadQueryHistory]({commit:e},{cluster:t}){e(j,{history:I("cassandra",t)})}},P={[j](e,{history:t}){e.queryHistory=t}};var F={state:R,actions:D,mutations:P};const U="SET_FEATURES",M={cluster:{},explore:{},features:{},query:{}},Q={async[n["a"].FetchCassandraFeatures]({commit:e}){const t=await Object(s["getFeatures"])();e(U,{features:t})}},z={[U](e,{features:t}){e.features=t}};var B={modules:{cluster:g,explore:q,query:F},state:M,actions:Q,mutations:z},H=a("38cd");async function V(){const e=await Object(H["a"])().get("/REST/datastores");return 204===e.status?[]:e.data}var W=a("7a4c");const Y="SET_CLUSTERS",G="SET_ENVIRONMENTS",J="SET_CURRENT_CLUSTER",Z="SET_DATASTORE_SCOPE",X={clusters:[],currentCluster:void 0,environments:void 0,currentDatastoreScope:void 0},ee={async[n["a"].FetchEnvironments]({commit:e}){const t=await Object(W["c"])();e(G,{environments:Object.freeze(t)})},async[n["a"].FetchClusters]({commit:e}){const t=await V();e(Y,{clusters:Object.freeze(t)})},[n["a"].SetCurrentCluster]({commit:e},{name:t}){e(J,{name:t})},[n["a"].SetDatastoreScope]({commit:e},{datastoreType:t}){e(Z,{datastoreType:t})}},te={isSharedCluster(e){const{clusters:t,currentCluster:a,currentDatastoreScope:s,environments:n}=e;if(!a||!s||!n)return!1;const r=t.find(e=>e.type===s&&e.env===n.current.env&&e.region===n.current.region&&e.name===a);return!!r&&r.isShared},isLocal(e){const{environments:t}=e;if(!t)return!1;const{env:a,region:s}=t.current;return"local"===a&&"local"===s}},ae={[Y](e,{clusters:t}){e.clusters=t},[G](e,{environments:t}){e.environments=t},[J](e,{name:t}){e.currentCluster=t},[Z](e,{datastoreType:t}){e.currentDatastoreScope=t}};var se={state:X,actions:ee,getters:te,mutations:ae},ne=a("82dc"),re=a("c9c5");const oe=[],ce="SET_USER_INFO",ie="SET_SESSION_INVALIDATED",le={email:void 0,username:void 0,isAdmin:!1,isSessionInvalidated:!1,token:void 0},ue={},de={async[n["a"].FetchUserInfo]({commit:e}){try{const t=await Object(re["fetchUserInfo"])();Object(H["b"])(t.access_token),e(ce,{userInfo:t})}catch(t){e(ie)}}},me={[ce](e,{userInfo:t}){const a=t.userinfo.email;e.email=a,e.token=t.access_token,e.username=t.userinfo.preferred_username;const s=oe.some(e=>t.userinfo.googleGroups.includes(e)||a===e),n=!window.location.search.includes("admin=false");e.isAdmin=s&&n,ne["a"]({email:e.email})},[ie](e){e.isSessionInvalidated=!0}};var pe={state:le,getters:ue,actions:de,mutations:me},ye=a("2b0e"),he=a("2f62");ye["default"].use(he["a"]);const fe=!1;t["a"]=new he["a"].Store({modules:{config:se,cassandra:B,user:pe},strict:fe})},"06d9":function(e,t,a){"use strict";a("b914")},"098e":function(e,t,a){"use strict";a.r(t),a.d(t,"fetchDatacenters",(function(){return r})),a.d(t,"fetchClusterInfo",(function(){return o}));var s=a("38cd"),n=a("99c6");async function r(e){try{const t=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/datacenters`);return t.data}catch(t){throw Object(n["a"])(t)}}async function o(e){try{const t=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/info`);return t.data}catch(t){throw Object(n["a"])(t)}}},"18e6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"keyspace-icon",attrs:{content:"Keyspace",disabled:e.disableTooltip}},[a("font-awesome-icon",{attrs:{icon:e.faLayerGroup,"fixed-width":""}})],1)},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassKeyspaceIcon",components:{[o.a.name]:o.a,FontAwesomeIcon:i["a"]},props:{disableTooltip:Boolean},data(){return{faLayerGroup:l["N"]}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},"19c3":function(e,t,a){"use strict";a("2221")},2085:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchSchema",(function(){return n}));var s=a("38cd");async function n(e){const t=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/schema`);return t.data}},"220c":function(e,t,a){"use strict";a.r(t),a.d(t,"getKeyResults",(function(){return b})),a.d(t,"getInsertStatements",(function(){return g})),a.d(t,"downloadResultSet",(function(){return v})),a.d(t,"downloadBlob",(function(){return C})),a.d(t,"updateRecord",(function(){return T})),a.d(t,"insertRecord",(function(){return x})),a.d(t,"deleteRecord",(function(){return S}));a("2b3d");var s=a("38cd"),n=a("59af"),r=a("99c6"),o=a("6612"),c=a.n(o),i=a("098e");a.d(t,"fetchDatacenters",(function(){return i["fetchDatacenters"]})),a.d(t,"fetchClusterInfo",(function(){return i["fetchClusterInfo"]}));var l=a("2ecf");a.d(t,"getFeatures",(function(){return l["getFeatures"]}));var u=a("aa43");a.d(t,"fetchKeyspaces",(function(){return u["fetchKeyspaces"]})),a.d(t,"fetchKeyspace",(function(){return u["fetchKeyspace"]})),a.d(t,"fetchDataTypes",(function(){return u["fetchDataTypes"]})),a.d(t,"createKeyspace",(function(){return u["createKeyspace"]}));var d=a("029f");a.d(t,"getClusterKeyspacesMetrics",(function(){return d["getClusterKeyspacesMetrics"]})),a.d(t,"getKeyspaceTableMetrics",(function(){return d["getKeyspaceTableMetrics"]})),a.d(t,"getTableMetrics",(function(){return d["getTableMetrics"]}));var m=a("ee13");a.d(t,"executeQuery",(function(){return m["executeQuery"]})),a.d(t,"downloadQuery",(function(){return m["downloadQuery"]}));var p=a("2085");a.d(t,"fetchSchema",(function(){return p["fetchSchema"]}));var y=a("3e53");a.d(t,"fetchKeyspaceTables",(function(){return y["fetchKeyspaceTables"]})),a.d(t,"fetchTable",(function(){return y["fetchTable"]})),a.d(t,"createTable",(function(){return y["createTable"]})),a.d(t,"createTableAdvanced",(function(){return y["createTableAdvanced"]})),a.d(t,"previewSchema",(function(){return y["previewSchema"]})),a.d(t,"dropTable",(function(){return y["dropTable"]})),a.d(t,"truncateTable",(function(){return y["truncateTable"]}));var h=a("c826");function f(e,t,a,n,r,o){const c=JSON.parse(JSON.stringify(n));Object.entries(c.primaryKey).forEach(([e,t])=>{const{value:a}=t;void 0===a&&delete c.primaryKey[e]});const i=new URLSearchParams;if(r&&i.set("pageState",r),o){const{format:e,generateFile:t,truncate:a}=o;e&&(i.set("format",e),i.set("generateFile",""+!!t)),a&&i.set("truncate",a)}return Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/keys?${i}`,c)}async function b(e,t,a,s,n,o){try{const r=await f(e,t,a,s,n,{truncate:o&&o.truncate});return r.data}catch(c){throw Object(r["a"])(c)}}async function g(e,t,a,s,n){try{const r=await f(e,t,a,s,n,{format:"cql"});return r.data}catch(o){throw Object(r["a"])(o)}}async function v(e,t,a,s,o,c){try{const r=await f(t,a,s,o,c,{format:e,generateFile:!0}),{data:i,headers:l}=r,u=Object(n["a"])(l["content-disposition"],"cql"===e?"insert.cql":"download."+e);return{filename:u,results:i}}catch(i){throw Object(r["a"])(i)}}async function C(e,t,a,r,o,i=!1){let l=null;i&&(l=window.open(void 0,"_blank"));const u=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/binary?hex=${i}`,{primaryKey:r,columnName:o},{responseType:"blob"}),{data:d,headers:m,status:p}=u;if(204===p)return i&&l&&l.close(),{status:204,type:"none"};const{"content-disposition":y,"content-length":h}=m,f=Object(n["a"])(y),b=URL.createObjectURL(d);let g;if(i&&l){if(parseInt(h,10)<10485760)return l.location.href=b,{status:200,type:"hex"};{const e=c()(h).format("0.0b");g=`HEX contain is too large (${e}) to display. Content was downloaded instead.`,l.close()}}else g=void 0;return Object(n["b"])(b,f),{status:200,message:g,type:"download"}}async function T(e,t,a,n,o){const c={};for(const[s,r]of Object.entries(o)){const{value:e}=r;void 0!==e&&(c[s]=r)}try{const r=await Object(s["a"])().put(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/keys`,{primaryKeyQuery:n,fields:c});return r.data}catch(i){throw Object(r["a"])(i)}}async function x(e,t,a,n){const o=new FormData;for(const[s,r]of Object.entries(n))if(void 0!==r){const{options:e,value:t}=r;void 0!==t&&(o.append(s,t),e.encoding&&o.append(s+".encoding",e.encoding))}try{const n=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/keys/create`,o,{headers:{"Content-Type":"multipart/form-data"}});return n.data}catch(c){throw Object(r["a"])(c)}}async function S(e,t,a,n){try{const r=await Object(s["a"])().delete(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/keys`,{data:{primaryKeyQuery:n}});return r.data}catch(o){throw Object(r["a"])(o)}}a.d(t,"fetchKeyspaceUsage",(function(){return h["fetchKeyspaceUsage"]})),a.d(t,"fetchTableUsage",(function(){return h["fetchTableUsage"]}))},2221:function(e,t,a){},"2a15":function(e,t,a){"use strict";a.r(t),a.d(t,"getKey",(function(){return r})),a.d(t,"keyExists",(function(){return o})),a.d(t,"scan",(function(){return c})),a.d(t,"deleteKey",(function(){return i})),a.d(t,"createKey",(function(){return l})),a.d(t,"updateKey",(function(){return u})),a.d(t,"updateTtl",(function(){return d}));a("2b3d");var s=a("38cd"),n=a("99c6");async function r(e,t){try{const a=await Object(s["a"])().get(`/REST/datastores/dynomite/clusters/${e}/keys/${t}`);return a.data}catch(a){throw Object(n["a"])(a)}}async function o(e,t){try{return await Object(s["a"])().get(`/REST/datastores/dynomite/clusters/${e}/keys/${t}?test`),!0}catch(a){if(a.response&&404===a.response.status)return!1;throw a}}async function c(e,t,a){try{const n=new URLSearchParams;t&&n.set("match",t),a&&n.set("cursor",a);const r=await Object(s["a"])().get(`/REST/datastores/dynomite/clusters/${e}/keys?${n}`);return r.data}catch(r){throw Object(n["a"])(r)}}async function i(e,t){try{const a=await Object(s["a"])().delete(`/REST/datastores/dynomite/clusters/${e}/keys/${t}`);return a.data}catch(a){throw Object(n["a"])(a)}}async function l(e,t,a){try{const n=await Object(s["a"])().post(`/REST/datastores/dynomite/clusters/${e}/keys/${t}`,{value:a});return n.data}catch(r){throw Object(n["a"])(r)}}async function u(e,t,a){try{const n=await Object(s["a"])().put(`/REST/datastores/dynomite/clusters/${e}/keys/${t}`,{value:a});return n.data}catch(r){throw Object(n["a"])(r)}}async function d(e,t,a){try{const n=new URLSearchParams;let r="persist";a>0&&(r="expire",n.set("ttl",a.toString()));const o=await Object(s["a"])().put(`/REST/datastores/dynomite/clusters/${e}/keys/${t}/${r}?${n}`);return o.data}catch(r){throw Object(n["a"])(r)}}},"2ecf":function(e,t,a){"use strict";a.r(t),a.d(t,"getFeatures",(function(){return r}));var s=a("38cd"),n=a("99c6");async function r(){try{const e=await Object(s["a"])().get("/REST/datastores/cassandra/features");return e.data}catch(e){throw Object(n["a"])(e)}}},"31c8":function(e,t){ace.define("ace/mode/cql_highlight_rules",(e,t)=>{const a=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,n=function(){const e="ADD|ALL|ALLOW|ALTER|AND|ANY|APPLY|AS|ASC|ASCII|AUTHORIZE|BATCH|BEGIN|BIGINT|BLOB|BOOLEAN|BY|CLUSTERING|COLUMNFAMILY|COMPACT|CONSISTENCY|COUNT|COUNTER|CREATE|CUSTOM|DECIMAL|DELETE|DESC|DISTINCT|DOUBLE|DROP|EACH_QUORUM|EXISTS|FILTERING|FLOAT|FROM|FROZEN|FULL|GRANT|IF|IN|INDEX|INET|INFINITY|INSERT|INT|INTO|KEY|KEYSPACE|KEYSPACES|LEVEL|LIMIT|LIST|LOCAL_ONE|LOCAL_QUORUM|MAP|MODIFY|NAN|NORECURSIVE|NOSUPERUSER|NOT|OF|ON|ONE|ORDER|PASSWORD|PERMISSION|PERMISSIONS|PRIMARY|QUORUM|RENAME|REVOKE|SCHEMA|SELECT|SET|STATIC|STORAGE|SUPERUSER|TABLE|TEXT|TIMESTAMP|TIMEUUID|THREE|TO|TOKEN|TRUNCATE|TTL|TUPLE|TWO|TYPE|UNLOGGED|UPDATE|USE|USER|USERS|USING|UUID|VALUES|VARCHAR|VARINT|WHERE|WITH|WRITETIME|ALLOW FILTERING",t="true|false",a="TTL",s="int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer",n=this.createKeywordMapper({"support.function":a,keyword:e,"constant.language":t,"storage.type":s},"identifier",!0),r="SELECT",o=({group:e,token:t,next:a="start"})=>[{token:"text",regex:/(\s+)/},{token:t,regex:/([a-zA-Z0-9_]+)/},{token:["text","punctuation.comma","text"],regex:/(\s*?)(,)(\s*?)/,next:e,caseInsensitive:!0},{token:"paren.rparen",regex:/[)]/,next:a},{token:"empty",regex:/;|\s+|$/,next:a}],c={KEYSPACE_TABLE:{regex:/(?:([a-zA-Z0-9_]+)|(?:(")([a-zA-Z0-9_]+)(")))(\.)(?:(?:(")([a-zA-Z0-9_]*)("))|([a-zA-Z0-9_]*))/,token:["entity.name.keyspace","text","entity.name.keyspace","text","punctuation.operator","text","entity.name.table","text","entity.name.table"]}};this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"keyword",regex:/(order\s+by)\s+/,next:"order_by"},{token:"keyword",regex:/(select)/,caseInsensitive:!0,next:"select_statement"},{token:"keyword",regex:/(update)/,caseInsensitive:!0,next:"update_statement"},{token:["keyword","text","keyword"],regex:/(insert)(\s+)(into)/,caseInsensitive:!0,next:"insert_statement"},{token:c.KEYSPACE_TABLE.token,regex:c.KEYSPACE_TABLE.regex},{token:"keyword",regex:/(where)/,next:"where_clause"},{token:"select.option.allowFiltering",regex:/\s+(?=allow\s+filtering)/,caseInsensitive:!0},{token:["keyword","text","select.option.limitValue"],regex:/(LIMIT)(\s+)(\d+)/},{token:n,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"},{token:"keyword",regex:`(?:${r})\\b`,next:"start"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"statement.terminator",regex:/;/}],select_statement:[{token:"select.statement.wildcard",regex:/\s*\*\s*/,next:"start"},{token:"keyword",regex:/(distinct)/,caseInsensitive:!0},{token:"select.statement.column",regex:/([a-zA-Z0-9_]+)(?!from)/,caseInsensitive:!0},{token:"punctuation.separator",regex:/,[ ]+(?!from)/,next:"select_statement"},{token:["text","keyword"],regex:/(\s+)(from)/,next:"start",caseInsensitive:!0}],insert_statement:[{token:"text",regex:/(\s+)/},{token:c.KEYSPACE_TABLE.token,regex:c.KEYSPACE_TABLE.regex},{token:"paren.lparen",regex:/(\()/,next:"paren_column_group"}],paren_column_group:o({group:"paren_column_group",token:"insert.column_name",next:"values_statement"}),values_statement:[{token:["text","keyword","text"],regex:/(\s+)(VALUES)(\s+)/,caseInsensitive:!0},{token:"paren.lparen",regex:/(\()((?!.*values.*)|\s+$)/,caseInsensitive:!0,next:"insert_value_group"},{token:"text",regex:/(\s+)/,next:"start"}],insert_value_group:o({group:"insert_value_group",token:"insert.column_value"}),update_statement:[{token:"text",regex:/\s+/},{token:c.KEYSPACE_TABLE.token,regex:c.KEYSPACE_TABLE.regex},{token:["text","keyword","text","update.ttl"],regex:/(\s*)(with\s+ttl)(\s+)(\d+)/,caseInsensitive:!0},{token:["text","keyword"],regex:/(\s*)(SET)/,caseInsensitive:!0},{token:["update.statement.column_name","statement.operator.equals","update.statement.column_value"],regex:/([a-zA-Z0-9_]*)(\s*=\s*)('[a-zA-Z0-9_]*'|[a-zA-Z0-9_]*)/,caseInsensitive:!0},{token:"punctuation.separator",regex:/,/,next:"update_statement"},{token:"keyword",regex:/(where)/,next:"where_clause",caseInsensitive:!0},{token:"empty",regex:/;|\s+|$/,next:"start"}],where_clause:[{token:["text","where.statement.column_name","statement.operator.equals","where.statement.column_value"],regex:/(\s*)([a-zA-Z0-9_]*)(\s*=\s*)('[a-zA-Z0-9_]*'|[a-zA-Z0-9_]*)/},{token:["text","keyword","text"],regex:/(\s+)(AND)(\s+)/,next:"where_clause",caseInsensitive:!0},{token:"empty",regex:/;|\s+|$/,next:"start"}],order_by:[{token:["text","order.column.name","text","order.direction"],regex:/(\s*)([a-zA-Z0-9_]+)(\s+)(ASC|DESC)?/,next:"start",caseInsensitive:!0},{token:"text",regex:/(\s+|$)/,next:"start"}]},this.normalizeRules()};a.inherits(n,s),t.CqlHighlightRules=n}),ace.define("ace/mode/cql",(e,t)=>{const a=e("../lib/oop"),s=e("./text").Mode,n=e("./cql_highlight_rules").CqlHighlightRules,r=function(){this.HighlightRules=n,this.$behaviour=this.$defaultBehaviour};a.inherits(r,s),function(){this.lineCommentStart="--",this.$id="ace/mode/cql"}.call(r.prototype),t.Mode=r})},"31fc":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cass-sample-query",class:e.$style.query,domProps:{innerHTML:e._s(e.highlightedStatement)},on:{click:e.onClick}})},n=[],r=a("2b0e"),o=r["default"].extend({name:"CassSampleQuery",props:{query:{type:String,required:!0}},data(){return{keywords:["SELECT","INSERT","UPDATE","DELETE","INTO","FROM","SET","VALUES","WHERE","AND","NOT","LIMIT"]}},computed:{highlightedStatement(){const e=new RegExp(/'([a-zA-Z0-9_]+?)'/,"gim"),t=new Map;let a=0,s=this.query.replace(e,(e,s)=>(t.set(a,s),`'${a++}'`));return this.keywords.forEach(e=>{const t=new RegExp(`\\b${e}\\b`,"ig");s=s.replace(t,`<span class="keyword">${e}</span>`)}),s.replace(e,(e,a)=>{if(a){const e=t.get(parseInt(a,10));if(e)return`'${e}'`}return a})}},methods:{onClick(){this.$emit("select",this.query)}}}),c=o,i=a("c069"),l=(a("19c3"),a("2877"));function u(e){this["$style"]=i["default"].locals||i["default"]}var d=Object(l["a"])(c,s,n,!1,u,"5938f016",null);t["a"]=d.exports},"347b":function(e,t,a){},"38cd":function(e,t,a){"use strict";const s="/";var n=a("bc3a"),r=a.n(n);a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));const o=r.a.create({baseURL:s});function c(){return o}function i(e){o.defaults.headers.common.Authorization="Bearer "+e}},"3e53":function(e,t,a){"use strict";a.r(t),a.d(t,"fetchKeyspaceTables",(function(){return r})),a.d(t,"fetchTable",(function(){return o})),a.d(t,"createTable",(function(){return c})),a.d(t,"createTableAdvanced",(function(){return i})),a.d(t,"previewSchema",(function(){return l})),a.d(t,"dropTable",(function(){return u})),a.d(t,"truncateTable",(function(){return d}));var s=a("38cd"),n=a("99c6");async function r(e,t){try{const a=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables`);return a.data}catch(a){throw Object(n["a"])(a)}}async function o(e,t,a){try{const n=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}`);return n.data}catch(r){throw Object(n["a"])(r)}}async function c(e,t,a){try{const n=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables`,a);return n.data}catch(r){throw Object(n["a"])(r)}}async function i(e,t,a,r){try{const n=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables`,{table:a,createStatement:r});return n.data}catch(o){throw Object(n["a"])(o)}}async function l(e,t,a){try{const n=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables?preview`,a);return n.data}catch(r){throw Object(n["a"])(r)}}async function u(e,t,a){try{const n=await Object(s["a"])().delete(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}`);return n.data}catch(r){throw Object(n["a"])(r)}}async function d(e,t,a){try{const n=await Object(s["a"])().delete(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/truncate`);return n.data}catch(r){throw Object(n["a"])(r)}}},"3ef6":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:"Table",disabled:e.disableTooltip}},[a("font-awesome-icon",{attrs:{icon:e.faTable,"fixed-width":""}})],1)},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassTableIcon",components:{[o.a.name]:o.a,FontAwesomeIcon:i["a"]},props:{disableTooltip:Boolean},data(){return{faTable:l["cb"]}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},"3efd":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const s={list:{re:/^list<(.*)>$/,startWith:"[",endWith:"]",format:(e,t)=>e?`'${t}'`:t},map:{re:/^map<(.*),\s*(.*)>$/,startWith:"{",endWith:"}",format:(e,t,a,s)=>`${e?`'${t}'`:t}: ${a?`'${s}'`:s}`},set:{re:/^set<(.*)>$/,startWith:"{",endWith:"}",format:(e,t)=>e?`'${t}'`:t}};new Set(Object.keys(s));function n(e){return Object.values(s).some(({re:t})=>t.test(e))}function r(e,t){if(!t)return"";const a=["ascii","text","varchar"];for(const[n,r]of Object.entries(s))if(e.includes(n)){const{re:s,format:n,startWith:o,endWith:c}=r,i=s.exec(e);if(i){const[,e,s]=i;a.includes(e);const r=a.includes(e);let l;if(s){const e=!!s&&a.includes(s);l=Object.entries(t).map(([t,a])=>n(r,t,e,a)).join(", ")}else l=t.map(e=>n(r,e)).join(", ");return`${o} ${l} ${c}`}}return t}},"3fd8":function(e,t,a){"use strict";var s=a("63c2"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"41f7":function(e,t,a){"use strict";var s=a("cbf0"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"46fe":function(e,t,a){},"4d3e":function(e,t,a){"use strict";var s=a("50eb"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"50eb":function(e,t,a){e.exports={"sample-query":"CassSchemaExplorer_sample-query_swnQl","row-icon":"CassSchemaExplorer_row-icon_3DTpc",breadcrumbs:"CassSchemaExplorer_breadcrumbs_3RsoM"}},"53b8":function(e,t,a){"use strict";var s=a("c4b7"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},5566:function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){e["Datastores"]="Datastores",e["Admin"]="Admin",e["ConnectionManager"]="ConnectionManager",e["CassandraClusters"]="CassandraClusters",e["CassandraCluster"]="CassandraCluster",e["CassandraKeyspaces"]="CassandraKeyspaces",e["CassandraKeyspace"]="CassandraKeyspace",e["CassandraKeyspaceTables"]="CassandraKeyspaceTables",e["CassandraKeyspaceUDTs"]="CassandraKeyspaceUDTs",e["CassandraKeyspaceCreate"]="CassandraKeyspaceCreate",e["CassandraTableCreate"]="CassandraTableCreate",e["CassandraTableCreateAdvanced"]="CassandraTableCreateAdvanced",e["CassandraTable"]="CassandraTable",e["CassandraQuery"]="CassandraQuery",e["CassandraQueryDataCreate"]="CassandraQueryDataCreate",e["CassandraQueryDataEdit"]="CassandraQueryDataEdit",e["CassandraTableData"]="CassandraTableData",e["CassandraTableColumns"]="CassandraTableColumns",e["CassandraTableProperties"]="CassandraTableProperties",e["CassandraTableSamples"]="CassandraTableSamples",e["CassandraTableActivity"]="CassandraTableActivity",e["CassandraTableDataCreate"]="CassandraTableDataCreate",e["CassandraTableDataEdit"]="CassandraTableDataEdit",e["CassandraTableDrop"]="CassandraTableDrop",e["CassandraTableTruncate"]="CassandraTableTruncate",e["DynomiteClusters"]="DynomiteClusters",e["DynomiteCluster"]="DynomiteCluster",e["DynomiteEmptyKeyView"]="DynomiteEmptyKeyView",e["DynomiteEditKey"]="DynomiteEditKey",e["DynomiteCreateKey"]="DynomiteCreateKey"}(s||(s={}))},"55b6":function(e,t,a){"use strict";var s=a("2b0e"),n=a("a925"),r={nav:{help:{chat:{href:"https://aol/im",label:"Chat"},documentation:{href:"http://acme.com/docs",label:"Documentation"},email:{href:"mailto:admin@acme.com",label:"Email"}}},datastores:{cassandra:{description:"Cassandra is a distributed, decentralized, fault tolerant, eventually consistent, linearly scalable, and column-oriented data store."},dynomite:{description:"Low-latency, in-memory datastore with support for multi-datacenter replication and high availability."}},cassandra:{keyspaces:{sharedCluster:{title:"Shared Cluster",message:"This is a shared cluster. If you do not see a keyspace you are looking for, you may not have access to it. Ownership is managed via {0}.",link:{href:"https://acme.com/cassandra/clusters/{cluster}/{env}/keyspaces/{region}",label:"Self Service"}}},tables:{sharedCluster:{tableNotFound:{message:"Note: This is a shared cluster. You may not have access to this keyspace. Ownership is managed via {0}.",link:{href:"https://acme.com/cassandra/clusters/{cluster}/{env}/keyspaces/{region}",label:"Self Service"}}}},createTable:{errors:{blobPrimaryKey:"Using Blob columns in the primary key is strongly discouraged. Most tools will provide limited support. It is recommended that you split up your primary key into strongly typed columns."},warnings:{counters:"Counters should only be used in rare instances due to concerns about performance and accuracy."}},dropTable:{errors:{noMetricsAvailable:"Unable to load usage metrics for this table. Unable to drop table. Please contact your administrator for assistance."}},strategies:{compaction:{sizeTieredCompactionStrategy:{pros:["Write once workloads","Best general purpose strategy on old Cassandra clusters (2.x)"],cons:["Read latency sensitive workloads","Update (writes to existing partitions) workloads"]},leveledCompactionStrategy:{pros:["Read latency sensitive workloads","Update (writes to existing partitions) workloads","TTL workloads with mutable data","Best general purpose strategy on modern Cassandra (3.0+)"],cons:["Time series or write once workloads","Per node datasets > 200GB on 2.x; 3.0+ is fine"]},timeWindowCompactionStrategy:{pros:["Time series data","Data must be immutable","Known TTL","Known query buckets"],cons:[]}}},speculativeRetry:{description:"To improve the overall latency, the driver can submit the query against an additional node. This will cause additional individual requests to be made to the cluster. Generally the specified default value is appropriate. Note: defaults to NONE when TimeWindowCompactionStrategy is used."}},clusterList:{noClusters:{title:"If you can not find a cluster you are looking for, you may not belong to the necessary Google group.",link:{href:"https://acme.net/",label:"Your app"},remediation:"Check {0} to see which groups are listed as owners."}},help:{cassandra:{placeholder:"Placeholder help text",limitedSchema:'In order to view all columns, please choose a "Blob Encoding" using the appropriate encoding option.'},general:{contactAdministrator:"Please contact your administrator for assistance"}},errors:{simpleStrategyNotRecommended:{message:"SimpleStrategy is not recommended for production.",detail:"You may have trouble querying this keyspace and your data is not protected."}}};s["default"].use(n["a"]);t["a"]=new n["a"]({locale:"en-US",fallbackLocale:"en-US",silentTranslationWarn:!0,messages:{"en-US":r}})},5733:function(e,t,a){"use strict";a.r(t);var s=a("04d1");a.d(t,"getKeyCount",(function(){return s["getKeyCount"]}));var n=a("f7be");a.d(t,"addKeyFields",(function(){return n["addKeyFields"]})),a.d(t,"deleteKeyFields",(function(){return n["deleteKeyFields"]})),a.d(t,"updateKeyFields",(function(){return n["updateKeyFields"]}));var r=a("2a15");a.d(t,"getKey",(function(){return r["getKey"]})),a.d(t,"keyExists",(function(){return r["keyExists"]})),a.d(t,"scan",(function(){return r["scan"]})),a.d(t,"deleteKey",(function(){return r["deleteKey"]})),a.d(t,"createKey",(function(){return r["createKey"]})),a.d(t,"updateKey",(function(){return r["updateKey"]})),a.d(t,"updateTtl",(function(){return r["updateTtl"]}))},"58ec":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:"Partition Key"}},[a("font-awesome-icon",{attrs:{icon:e.faChartPie,disabled:e.disableTooltip,"fixed-width":""}})],1)},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassPartitionKeyIcon",components:{[o.a.name]:o.a,FontAwesomeIcon:i["a"]},props:{disableTooltip:Boolean},data(){return{faChartPie:l["j"]}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},"59af":function(e,t,a){"use strict";function s(e,t="download"){const a=/^attachment;\s*filename="(.*)"/,s=a.exec(e);let n=t;if(s){const[,e]=s;e&&(n=e)}return n}function n(e,t){const a=document.createElement("a");a.href=e,a.download=escape(t);const s=document.body;s.appendChild(a),a.click(),s.removeChild(a)}a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}))},"5bb9":function(e,t,a){"use strict";var s=a("a7d4"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"5de0":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var s=a("afbc"),n=a("5566"),r=a("7a4c"),o=a("0613");function c(e,t,a,c){if(!o["a"].state.config.environments)return;const{current:i}=o["a"].state.config.environments;if(a===i.env&&c===i.region){let a;switch(e){case"cassandra":a=n["a"].CassandraKeyspaces;break;case"dynomite":a=n["a"].DynomiteCluster;break;default:throw new Error("unexpected datastore type: "+e)}s["a"].push({name:a,params:{clusterName:t}})}else Object(r["b"])(e,t,a,c)}},"63c2":function(e,t,a){e.exports={navContainer:"TheNav_navContainer_2ssd8",dynoKeyCount:"TheNav_dynoKeyCount_jh0W3"}},"699a":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:"Column",disabled:e.disableTooltip}},[a("font-awesome-icon",{attrs:{icon:e.faColumns,"fixed-width":""}})],1)},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassColumnIcon",components:{FontAwesomeIcon:i["a"],[o.a.name]:o.a},props:{disableTooltip:Boolean},data(){return{faColumns:l["q"]}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},"6a70":function(e,t,a){"use strict";var s=a("e8e5"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"6de6":function(e,t,a){e.exports={query:"CassSampleQuery_query_1GSXL"}},"72b6":function(e,t,a){"use strict";var s=a("7f5b"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"7a4c":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i}));var s=a("38cd"),n=a("da97"),r=a("9a7e");async function o(){const e=await Object(s["a"])().get("/REST/env/regions");return e.data}async function c(e,t,a,o){const c=await Object(s["a"])().post(`/REST/env/regions/${a}-${o}`,{datastoreType:e,cluster:t});200===c.status?window.location.replace(c.headers.location):Object(r["b"])(n["a"].Error,"Failed to switch environments","")}async function i(e){const t=await Object(s["a"])().post("/REST/i18n",{language:e});return t.data}},"7f5b":function(e,t,a){e.exports={expanded:"CassQueryNavContent_expanded_2jc71",contentContainer:"CassQueryNavContent_contentContainer_1eD3n"}},"80e6":function(e,t,a){},"829c":function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){e["PrimaryKey"]="__primaryKey"}(s||(s={}))},8690:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-alert",{attrs:{type:"error",title:e.title,"show-icon":""}},[a("div",{staticClass:"mb-2"},[e._v(e._s(e.message))]),e.remediation?a("div",{domProps:{innerHTML:e._s(e.remediation)}}):e._e()])},n=[],r=a("e04d"),o=a.n(r),c=a("2b0e"),i=c["default"].extend({name:"HttpStatusErrorAlert",components:{[o.a.name]:o.a},props:{title:{type:String},message:{type:String},remediation:{type:String}}}),l=i,u=a("2877"),d=Object(u["a"])(l,s,n,!1,null,null,null);t["a"]=d.exports},8868:function(e,t,a){var s={"./base/email-selector.vue":["77a8","dynamic0"],"./base/notification-element.vue":["d323","dynamic1"]};function n(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return a.e(t[1]).then((function(){return a(n)}))}n.keys=function(){return Object.keys(s)},n.id="8868",e.exports=n},"8a70":function(e,t,a){"use strict";var s=a("b353"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"8c71":function(e,t,a){e.exports={toolbar:"CassTableResults_toolbar_3a48O",table:"CassTableResults_table_1nAyg",cassTableResults:"CassTableResults_cassTableResults_2N1jG",tableCell:"CassTableResults_tableCell_3gEFj"}},9067:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{attrs:{value:e.currentValue,required:e.required,placeholder:"Choose encoding",filterable:"",disabled:e.disabled},on:{input:e.onInput,change:e.onChange}},e._l(e.encodings,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},n=[],r=a("4e4b"),o=a.n(r),c=a("e772"),i=a.n(c),l=a("2b0e"),u=l["default"].extend({name:"CassEncodingDropdown",components:{[i.a.name]:i.a,[o.a.name]:o.a},props:{value:{type:String},emptyText:{type:String,default:"Unencoded"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){const e=new Array;return this.required||e.push({label:this.emptyText,value:void 0}),e.push({label:"ascii",value:"ascii"},{label:"base64",value:"base64"},{label:"hex",value:"hex"},{label:"utf-8",value:"utf-8"}),{currentValue:this.value,encodings:e}},watch:{value(e){this.currentValue=e}},methods:{onInput(e){this.$emit("input",e)},onChange(e){this.$emit("change",e)}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},"90da":function(e,t,a){"use strict";a("46fe")},9328:function(e,t,a){"use strict";var s=a("9b04"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},"99c6":function(e,t,a){"use strict";class s extends Error{constructor(e,t,a,s){super(a),this.status=e,this.title=t,this.message=a,this.remediation=s,Object.setPrototypeOf(this,new.target.prototype)}}var n=a("ea54"),r=a("bc3a"),o=a.n(r);function c(e){if(e.response){const{data:t}=e.response;if(Object.prototype.hasOwnProperty.call(t,"status")&&Object.prototype.hasOwnProperty.call(t,"title")&&Object.prototype.hasOwnProperty.call(t,"message")&&Object.prototype.hasOwnProperty.call(t,"remediation")){const{status:e,title:a,message:n,remediation:r}=t;return new s(e,a,n,r)}}else if(o.a.isCancel(e))return new n["a"];return new Error("Unexpected request error.")}a.d(t,"a",(function(){return c}))},"9a7e":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));var s=a("e5f2"),n=a.n(s),r=a("6ed5"),o=a.n(r),c=a("da97");async function i(e,t,a="OK",s="Cancel",n=c["a"].Info,r){try{return await o.a.confirm(t,e,{confirmButtonText:a,cancelButtonText:s,type:c["a"][n].toLowerCase(),...r}),!0}catch(i){return!1}}function l(e,t,a){n()({title:t,message:a,type:c["a"][e].toLowerCase(),position:"bottom-right"})}},"9b04":function(e,t,a){e.exports={editor:"CassQueryView_editor_1kswU",results:"CassQueryView_results_1x3kb",mainContainer:"CassQueryView_mainContainer_1wZya"}},a09e:function(e,t,a){"use strict";var s=a("bc9b"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},a347:function(e,t,a){},a632:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return i}));var s=a("f970");function n(e,t,a){const s=["writetime","ttl"];return e.reduce((e,{name:n,type:r})=>(e[n]={value:t[n],options:{encoding:"blob"===r?a.encoding:void 0}},s.forEach(a=>{const s=`${a}(${n})`;t[s]&&(e[s]={value:t[s],options:{encoding:void 0}})}),e),{})}function r(e,t,a){const{primaryKey:s}=e,r=n(s,t,a);return{primaryKey:r,options:a}}function o(e,t){const a=Object(s["d"])(e);return Object.entries(t).filter(([e])=>!a.has(e)).reduce((e,[t,a])=>({...e,[t]:a}),{})}function c(e,t,a,s){const{columns:r,primaryKey:o}=e;let c;if("all"===s)c=e.columns;else{const e=new Set(o.map(e=>e.name));switch(s){case"primary-key":c=o;break;case"values":c=r.filter(t=>!e.has(t.name));break;default:c=[];break}}return n(c,t,a)}function i(e,t,a){const n=Object(s["d"])(e),r=Object.entries(t).reduce((e,[t,a])=>(n.has(t)&&(e[t]=a),e),{});return{primaryKey:r,options:a}}},a7d4:function(e,t,a){e.exports={title:"App_title_382G7",subtitle:"App_subtitle_1btlg"}},aa43:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchKeyspaces",(function(){return r})),a.d(t,"fetchKeyspace",(function(){return o})),a.d(t,"fetchDataTypes",(function(){return c})),a.d(t,"createKeyspace",(function(){return i}));var s=a("38cd"),n=a("99c6");async function r(e){try{const t=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces`);return t.data}catch(t){throw Object(n["a"])(t)}}async function o(e,t){try{const a=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}`);return a.data}catch(a){throw Object(n["a"])(a)}}async function c(e,t){try{const a=await Object(s["a"])().get(`REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/types`);return a.data}catch(a){throw Object(n["a"])(a)}}async function i(e,t,a,r){try{const n=await Object(s["a"])().post(`REST/datastores/cassandra/clusters/${e}/keyspaces`,{name:t,datacenters:a,owners:r});return n.data}catch(o){throw Object(n["a"])(o)}}},afbc:function(e,t,a){"use strict";var s=a("5566"),n=a("0613");function r(e){const t=[];return e.matched.forEach(a=>{let{breadcrumbText:s}=a.meta;if(s){"function"===typeof s&&(s=s.call(null,e));const n=a.path.replace(/:(\w*)/g,(t,a)=>e.params[a]);t.push({label:s,path:n})}}),t}var o=a("2b0e"),c=a("8c4f");const i={path:"/admin",name:s["a"].Admin,component:()=>Promise.all([a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("admin")]).then(a.bind(null,"89b3")),meta:{breadcrumbText:"Admin",requiresAdmin:!0}};var l=a("829c"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cassandra-query-view layout horizontal full-height"},[a("cass-query-nav-menu",{staticClass:"full-height",attrs:{"cluster-name":e.clusterName,value:e.selectedNavView},on:{selected:e.onNavSelected}}),a("splitpanes",{staticClass:"default-theme",class:e.$style.mainContainer},[e.selectedNavView?a("pane",{attrs:{"min-size":"20",size:"30","max-size":"50"}},[a("cass-query-nav-content",{staticClass:"full-height",attrs:{"cluster-name":e.clusterName,view:e.selectedNavView,query:e.query}})],1):e._e(),a("pane",{attrs:{"min-size":"20"}},[a("splitpanes",{staticClass:"flex",attrs:{horizontal:""}},[a("pane",{attrs:{"min-size":"25","max-size":"40"}},[a("cass-query-editor",{staticClass:"full-height",class:e.$style.editor,attrs:{"retrieval-options":e.retrievalOptions},on:{execute:e.execute,update:e.onUpdateQuery,"show-help":e.onEditorShowError},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),a("pane",{attrs:{"min-size":"40"}},[e.successWithoutResults?a("div",{staticClass:"padded"},[a("el-alert",{staticClass:"bordered",attrs:{type:"success",title:"Statement received successfully","show-icon":""}})],1):!e.schema||!e.isLoading&&e.error?e.isLoading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"flex",attrs:{"element-loading-text":"Executing statement..."}}):e.error?a("div",{staticClass:"padded"},[a("http-status-error-alert",{attrs:{title:e.error.title,message:e.error.message,remediation:e.error.remediation}})],1):a("div",{staticClass:"padded"},[e._v(" Please enter a query ")]):a("cass-table-results",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"full-height scroll",class:e.$style.results,attrs:{schema:e.schema,columns:e.columns,"truncated-columns":e.truncatedColumns,"retrieval-options":e.retrievalOptions,data:e.data,"element-loading-text":"Executing statement..."},on:{"select-primary-key":e.onSelectPrimaryKey,insert:e.onClickInsert,"download-cql":function(t){return e.onDownload("cql")},"download-csv":function(t){return e.onDownload("csv")}}})],1)],1)],1)],1),a("router-view",{on:{"add-record":function(t){return e.returnToResults(!0)},"update-record":function(t){return e.returnToResults(!0)},"delete-record":function(t){return e.returnToResults(!0)},close:function(t){return e.returnToResults(!1)}}})],1)},d=[],m=(a("2b3d"),a("e04d")),p=a.n(m),y=a("512e"),h=a("d536"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cass-query-nav layout horizontal"},[a("div",{staticClass:"full-height"},[a("el-menu",{staticClass:"full-height",class:e.$style.menu,attrs:{"default-active":e.value,collapse:!0,"menu-trigger":"click","unique-opened":""},on:{select:e.onSelectMenu}},e._l(e.menuItems,(function(t){return a("el-menu-item",{key:t.name,attrs:{index:t.name}},[a("font-awesome-icon",{attrs:{icon:t.icon,"fixed-width":""},on:{mousedown:function(e){e.stopPropagation()}}}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.tooltip))])],1)})),1)],1),e._l(e.menuItems,(function(t){return a("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:t.shortcut,expression:"menu.shortcut",modifiers:{once:!0}}],key:t.name,attrs:{hidden:""},on:{shortkey:function(a){return e.onSelectMenu(t.name)}}})}))],2)},b=[],g=a("4cb2"),v=a.n(g),C=a("3803"),T=a.n(C),x=a("443e"),S=a.n(x),w=a("ad3d"),E=a("3717"),k=a.n(E),_=a("c074");const $=[{name:"schema",title:"Schema Explorer",tooltip:"Schema (Ctrl + 1)",icon:_["t"],shortcut:["ctrl","1"]},{name:"history",title:"Query History",tooltip:"History (Ctrl + 2)",icon:_["I"],shortcut:["ctrl","2"]},{name:"info",title:"Query Help",tooltip:"Information (Ctrl + 3)",icon:_["J"],shortcut:["ctrl","3"]}];o["default"].use(k.a);var O=o["default"].extend({name:"CassQueryNavMenu",components:{[S.a.name]:S.a,[T.a.name]:T.a,[v.a.name]:v.a,FontAwesomeIcon:w["a"]},props:{clusterName:{type:String,required:!0},value:{type:String,validator(e){return void 0===e||$.some(t=>t.name===e)}}},data(){return{menuItems:$}},computed:{isExpanded(){return!!this.value}},methods:{onSelectMenu(e){this.$emit("selected",e==this.value?void 0:e)}}}),q=O,N=a("6a70"),A=(a("06d9"),a("2877"));function L(e){this["$style"]=N["default"].locals||N["default"]}var K,I=Object(A["a"])(q,f,b,!1,L,"505d7872",null),j=I.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cass-query-nav layout horizontal"},[a("div",{staticClass:"flex layout vertical",class:e.$style.expanded},[a("div",{staticClass:"toolbar border__bottom"},[a("h3",[e._v(e._s(e.currentTitle))])]),a("div",{staticClass:"padded flex scroll",class:e.$style.contentContainer},["schema"===e.view?a("cass-schema-explorer",{attrs:{"cluster-name":e.clusterName}}):e._e(),"history"===e.view?a("cass-query-history",{attrs:{"cluster-name":e.clusterName}}):e._e(),"info"===e.view?a("cass-query-help",{attrs:{query:e.query}}):e._e()],1)])])},D=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cass-schema-explorer layout vertical full-height"},[a("el-checkbox",{staticClass:"spacer__bottom",attrs:{label:"Link path to editor"},model:{value:e.linkPath,callback:function(t){e.linkPath=t},expression:"linkPath"}}),a("div",{staticClass:"layout horizontal center"},[a("el-breadcrumb",{staticClass:"spacer__bottom",class:e.$style.breadcrumbs,attrs:{"separator-class":"el-icon-arrow-right"}},[e.selectedKeyspace?e._e():a("el-breadcrumb-item",{class:e.$style["breadcrumb-item"]},[a("cluster-icon"),e._v(" "+e._s(e.clusterName)+" ")],1),e.selectedKeyspace?a("el-breadcrumb-item",{class:e.$style["breadcrumb-item"],attrs:{to:e.getRoute(void 0,void 0)}},[a("cluster-icon"),e._v(" "+e._s(e.clusterName)+" ")],1):e._e(),e.selectedKeyspace&&!e.selectedTable?a("el-breadcrumb-item",{class:e.$style["breadcrumb-item"]},[a("cass-keyspace-icon"),e._v(" "+e._s(e.selectedKeyspace)+" ")],1):e._e(),e.selectedKeyspace&&e.selectedTable?a("el-breadcrumb-item",{class:e.$style["breadcrumb-item"],attrs:{to:e.getRoute(e.selectedKeyspace,void 0)}},[a("cass-keyspace-icon"),e._v(" "+e._s(e.selectedKeyspace)+" ")],1):e._e(),e.selectedKeyspace&&e.selectedTable?a("el-breadcrumb-item",{class:e.$style["breadcrumb-item"]},[e.isSelectedTableThrift?a("cass-table-thrift-icon"):a("cass-table-icon"),e._v(" "+e._s(e.selectedTable)+" ")],1):e._e()],1),a("el-tooltip",{attrs:{content:"Open this table in the Explore mode (opens in a new tab)",placement:"bottom"}},[e.selectedTable?a("router-link",{attrs:{to:{name:e.Routes.CassandraTableData,params:{clusterName:e.clusterName,keyspaceName:e.selectedKeyspace,tableName:e.selectedTable}},target:"_blank"}},[a("font-awesome-icon",{staticClass:"spacer__bottom spacer__left",attrs:{icon:e.faExternalLinkAlt}})],1):e._e()],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"bordered flex scroll",class:{selectable:!e.selectedTable},attrs:{data:e.tableData,"highlight-current-row":!e.selectedTable,"element-loading-text":"Loading schema..."},on:{"current-change":e.onSelectItem}},[a("el-table-column",{attrs:{label:e.columnLabel,prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a(e.getIconComponent(t.row),{tag:"component",class:e.$style["row-icon"]}),a("span",[e._v(" "+e._s(t.row.name))])]}}])})],1),e.selectedTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"bordered flex scroll spacer__top",attrs:{data:e.sampleQueries,"element-loading-text":"Loading schema..."},on:{"current-change":e.onSelectItem}},[a("el-table-column",{attrs:{label:"Sample Queries",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("cass-sample-query",{class:e.$style["sample-query"],attrs:{query:t.row},on:{select:e.onSelectQuery}})]}}],null,!1,3158228239)})],1):e._e()],1)},F=[],U=a("299c"),M=a.n(U),Q=a("ecdf"),z=a.n(Q),B=a("ad41"),H=a.n(B),V=a("dcdc"),W=a.n(V),Y=a("c216"),G=a.n(Y),J=a("76b9"),Z=a.n(J),X=a("31fc"),ee=a("f970"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:"Cluster",disabled:e.disableTooltip}},[a("font-awesome-icon",{attrs:{icon:e.faDatabase,"fixed-width":""}})],1)},ae=[],se=o["default"].extend({name:"ClusterIcon",components:{FontAwesomeIcon:w["a"],[M.a.name]:M.a},props:{disableTooltip:Boolean},data(){return{faDatabase:_["t"]}}}),ne=se,re=Object(A["a"])(ne,te,ae,!1,null,null,null),oe=re.exports,ce=a("18e6"),ie=a("58ec"),le=a("f29e"),ue=a("3ef6"),de=a("c129"),me=a("699a"),pe=a("220c");(function(e){e[e["KEYSPACE"]=0]="KEYSPACE",e[e["TABLE"]=1]="TABLE",e[e["COLUMN"]=2]="COLUMN"})(K||(K={}));var ye=o["default"].extend({name:"CassSchemaExplorer",components:{[Z.a.name]:Z.a,[G.a.name]:G.a,[W.a.name]:W.a,[H.a.name]:H.a,[z.a.name]:z.a,[M.a.name]:M.a,CassClusteringKeyIcon:le["a"],CassColumnIcon:me["a"],CassKeyspaceIcon:ce["a"],CassPartitionKeyIcon:ie["a"],CassSampleQuery:X["a"],CassTableIcon:ue["a"],CassTableThriftIcon:de["a"],ClusterIcon:oe,FontAwesomeIcon:w["a"]},props:{clusterName:{type:String,required:!0}},data(){return{Routes:s["a"],faExternalLinkAlt:_["y"],selectedKeyspace:void 0,selectedTable:void 0,selectedTableSchema:void 0}},computed:{schema(){return n["a"].state.cassandra.cluster.schema},isLoading(){return n["a"].state.cassandra.cluster.schemaLoading},tableData(){return this.selectedKeyspace?this.selectedTable?this.columns:this.tables:this.keyspaces},isSelectedTableThrift(){if(!this.selectedTable)return!1;const e=this.tableMetaData[this.selectedTable];return!!e&&e.isThrift},keyspaces(){return Array.from(new Set(this.schema.map(e=>e.keyspace))).sort().map(e=>({name:e,type:K.KEYSPACE,options:{}}))},tableMetaData(){return this.selectedKeyspace?this.schema.reduce((e,t)=>(e[t.table]={isThrift:t.isThrift},e),{}):{}},tables(){if(!this.selectedKeyspace)return[];const e=new Set(this.schema.filter(e=>e.keyspace===this.selectedKeyspace).map(e=>e.table));return Array.from(e).map(e=>({name:e,type:K.TABLE,options:this.tableMetaData[e]})).sort()},columns(){if(!this.selectedKeyspace||!this.selectedTableSchema)return[];const e=Object(ee["g"])(this.selectedTableSchema),{partitionKeys:t,clusteringKeys:a}=this.selectedTableSchema,s=new Set(t.map(e=>e.name)),n=new Set(a.map(e=>e.name));return e.map(e=>({name:`${e.name} (${e.type})`,type:K.COLUMN,options:{isPartitionKey:s.has(e.name),isClusteringKey:n.has(e.name)}}))},columnLabel(){return this.selectedKeyspace?this.selectedTable?"Column Name":"Table Name":"Keyspace Name"},sampleQueries(){if(!this.selectedKeyspace||!this.selectedTable)return[];const e=new Array,t=new Array;this.schema.filter(e=>e.keyspace===this.selectedKeyspace&&e.table===this.selectedTable).forEach(a=>{const{column:s,type:n}=a;"partition"===n?e.push(s):"clustering"===n&&t.push(s)});const a=Object(ee["b"])(this.selectedKeyspace,this.selectedTable,e,t);return Array.from(new Set(a))},linkPath:{get(){return"false"!==this.$route.query.linkPath},set(e){this.$router.replace({name:this.$route.name,params:this.$route.params,query:{...this.$route.query,linkPath:e+""}})}}},watch:{$route:{immediate:!0,handler(){const{keyspace:e,table:t}=this.$route.query;this.selectedKeyspace=e,this.selectedTable=t}},selectedTable:{immediate:!0,async handler(e){e&&this.selectedKeyspace?this.selectedTableSchema=await Object(pe["fetchTable"])(this.clusterName,this.selectedKeyspace,e):this.selectedTableSchema=void 0}}},methods:{getRoute(e,t){const a=JSON.parse(JSON.stringify(this.$route.query));return a["keyspace"]=e,a["table"]=t,{name:s["a"].CassandraQuery,params:this.$route.params,query:a}},onSelectItem(e){if(e)switch(e.type){case K.KEYSPACE:this.$router.push(this.getRoute(e.name,void 0));break;case K.TABLE:this.$router.push(this.getRoute(this.selectedKeyspace,e.name));break;default:}},onSelectQuery(e){const t=JSON.parse(JSON.stringify(this.$route.query));t["query"]=e,this.$router.push({name:s["a"].CassandraQuery,params:this.$route.params,query:t})},getIconComponent(e){const{type:t,options:a}=e;switch(t){case K.KEYSPACE:return"cass-keyspace-icon";case K.TABLE:return a.isThrift?"cass-table-thrift-icon":"cass-table-icon";case K.COLUMN:return e.options.isPartitionKey?"cass-partition-key-icon":e.options.isClusteringKey?"cass-clustering-key-icon":"cass-column-icon";default:return"cluster-icon"}}}}),he=ye,fe=a("4d3e");a("dea2");function be(e){this["$style"]=fe["default"].locals||fe["default"]}var ge=Object(A["a"])(he,P,F,!1,be,"29330b36",null),ve=ge.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout vertical",staticStyle:{overflow:"hidden"}},e._l(e.groupedQueries,(function(t){return a("div",{key:t.name},[a("h3",{class:e.$style.groupHeader},[e._v(e._s(t.name))]),a("el-table",{staticClass:"bordered flex scroll spacer__top",staticStyle:{"max-height":"250px"},attrs:{data:t.entries,"show-header":!1}},[a("el-table-column",{attrs:{label:"Recent Queries",prop:"query"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"layout horizontal justified"},[a("cass-sample-query",{class:e.$style.sampleQuery,attrs:{query:t.row.query},on:{select:e.onSelectQuery}})],1)]}}],null,!0)})],1)],1)})),0)},Te=[],xe=a("8923"),Se=a("e703"),we=a("337e"),Ee=a("436a"),ke=a("fc60");const _e={lastWeek:"'last' eeee",yesterday:"'yesterday'",today:"'today'",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"MMM d"};var $e=o["default"].extend({name:"CassQueryHistory",components:{[H.a.name]:H.a,[z.a.name]:z.a,CassSampleQuery:X["a"]},props:{clusterName:{type:String,required:!0}},computed:{queryHistory(){return n["a"].state.cassandra.query.queryHistory},groupedQueries(){const e=new Map;this.queryHistory.forEach(t=>{const a=Object(Se["a"])(Object(we["a"])(t.timestamp)),s=Object(Ee["a"])(a,Date.now(),{locale:{...xe["a"],formatRelative:e=>_e[e]}});let n=e.get(s);if(!n){const t=a;n={timestamp:t,entries:[]},e.set(s,n)}n.entries.push(t)});const t=new Array;for(const[a,s]of e){const{timestamp:e,entries:n}=s;t.push({name:a,timestamp:e,entries:n.sort((e,t)=>t.timestamp-e.timestamp)})}return t.sort((e,t)=>t.timestamp-e.timestamp)}},watch:{clusterName:{immediate:!0,handler(e){n["a"].dispatch(ke["a"].LoadQueryHistory,{cluster:e})}}},methods:{onSelectQuery(e){const t=JSON.parse(JSON.stringify(this.$route.query));t["query"]=e,this.$router.push({name:s["a"].CassandraQuery,params:this.$route.params,query:t})}}}),Oe=$e,qe=a("8a70");function Ne(e){this["$style"]=qe["default"].locals||qe["default"]}var Ae=Object(A["a"])(Oe,Ce,Te,!1,Ne,null,null),Le=Ae.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.currentQuery?a("cass-syntax-help",{attrs:{keyword:e.currentQuery.keyword,description:e.currentQuery.description,syntax:e.currentQuery.syntax}}):a("div",[a("p",[e._v(' The editor on the right supports some code-assist functions. Try starting to type a query like "SELECT" and see how it can help. You can also use (Ctrl + Space) to bring up snippets and completions. ')]),a("p",[e._v(' You can also check out the "Schema" tab to see what keyspaces, tables, and columns this cluster has to offer. ')])])],1)},Ie=[];const je=[{keyword:"SELECT",description:"Queries for one or more rows from a single table.",syntax:"SELECT * | select_clause | DISTINCT partition_key\nFROM keyspace_name.table_name\n[WHERE partition_key_clause\n(AND clustering_column_filters)\n(AND static_column_filters)]\n[ORDER BY column_name (ASC|DESC)]\n[LIMIT N]\n[ALLOW FILTERING]"},{keyword:"INSERT",description:"Insert a new row of data or updates an existing row use the primary key (partition key plus any clustering columns).",syntax:"INSERT INTO keyspace_name.table_name (column_list)\nVALUES (column_values)\n[IF NOT EXISTS]\n[USING TTL seconds | TIMESTAMP epoch_in_microseconds]"},{keyword:"UPDATE",description:"Update column values in a row.",syntax:"UPDATE keyspace_name.table_name\n[USING TTL time_value | USING TIMESTAMP timestamp_value]\nSET assignment [, assignment] . . .\nWHERE row_specification\n[IF EXISTS | IF NOT EXISTS | IF condition [AND condition] . . .] ;"}];var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article",[a("header",[a("h3",[e._v(e._s(e.keyword))])]),a("section",[a("h4",[e._v("Description")]),a("p",[e._v(e._s(e.description))])]),a("section",[a("h4",[e._v("Syntax")]),a("pre",[e._v(e._s(e.syntax))])])])},De=[],Pe=o["default"].extend({name:"CassSyntaxHelp",props:{keyword:{type:String},description:{type:String},syntax:{type:String}}}),Fe=Pe,Ue=(a("90da"),Object(A["a"])(Fe,Re,De,!1,null,"6791d8d5",null)),Me=Ue.exports,Qe=o["default"].extend({name:"CassQueryHelp",components:{CassSyntaxHelp:Me},props:{query:{type:String}},data(){return{supportedQueries:je}},computed:{currentQuery(){return this.supportedQueries.find(e=>this.query.trim().toLowerCase().startsWith(e.keyword.toLowerCase()))}}}),ze=Qe,Be=Object(A["a"])(ze,Ke,Ie,!1,null,null,null),He=Be.exports,Ve=o["default"].extend({name:"CassQueryNavContent",components:{CassQueryHelp:He,CassQueryHistory:Le,CassSchemaExplorer:ve},props:{clusterName:{type:String,required:!0},view:{type:String,validator(e){return void 0===e||$.some(t=>t.name===e)}},query:{type:String}},data(){return{menuItems:$}},computed:{currentTitle(){if(!this.view)return"";const e=this.menuItems.find(e=>e.name===this.view);return e?e.title:""}}}),We=Ve,Ye=a("72b6");function Ge(e){this["$style"]=Ye["default"].locals||Ye["default"]}var Je=Object(A["a"])(We,R,D,!1,Ge,null,null),Ze=Je.exports,Xe=a("ee55"),et=a("9a7e"),tt=a("da97"),at=a("59af"),st=a("8690"),nt=o["default"].extend({name:"CassQueryView",components:{[p.a.name]:p.a,CassQueryEditor:h["a"],CassQueryNavMenu:j,CassQueryNavContent:Ze,CassTableResults:Xe["a"],HttpStatusErrorAlert:st["a"],Splitpanes:y["Splitpanes"],Pane:y["Pane"]},props:{clusterName:{type:String}},data(){return{selectedNavView:void 0,isLoading:!1,query:"",schema:void 0,columns:new Array,truncatedColumns:new Array,data:[],error:void 0,successWithoutResults:!1,retrievalOptions:{encoding:"hex",decodeValues:!1}}},watch:{clusterName:{immediate:!0,handler(e){this.$store.dispatch(ke["a"].FetchSchema,{cluster:e})}},$route:{immediate:!0,handler(){this.loadFromRoute()}}},created(){this.loadFromRoute()},methods:{loadFromRoute(){this.query=this.$route.query.query||"",this.selectedNavView=this.$route.query.view||""},onUpdateQuery({query:e,keyspace:t,table:a}){this.$router.replace({name:this.$route.name,params:{cluster:this.clusterName},query:{...this.$route.query,query:e,keyspace:t||"",table:a||""}}).catch(()=>{})},async execute({query:e,options:t}){this.isLoading=!0;const a=this.clusterName;this.$router.push({name:this.$route.name,params:{cluster:a},query:{...this.$route.query,query:e}}).catch(()=>{}),n["a"].dispatch(ke["a"].AddQueryToHistory,{cluster:a,query:e}),this.successWithoutResults=!1;try{this.error=void 0;const s=await Object(pe["executeQuery"])(a,e,t);this.schema=s.schema,this.columns=s.columns,this.truncatedColumns=s.truncatedColumns,this.data=s.rows,this.error=void 0;const n=e.match(/^\s*select/i);n||0!==s.rows.length||(this.successWithoutResults=!0)}catch(s){this.error=s}finally{this.isLoading=!1}},onNavSelected(e){this.$router.push({name:this.$route.name,params:{cluster:this.clusterName},query:{query:this.query,view:e}})},onEditorShowError(e){"schema"===e.type?this.selectedNavView="schema":"syntax"===e.type&&(this.selectedNavView="info")},onClickInsert(){const{keyspace:e,table:t}=this.$route.query;if(!e||!t)throw new Error("keyspace or table not detected");this.$router.push({name:s["a"].CassandraQueryDataCreate,params:{clusterName:this.clusterName},query:this.$route.query})},onSelectPrimaryKey(e){const{key:t}=e,{keyspace:a,table:n}=this.$route.query;if(!a||!n)throw new Error("keyspace or table not detected");if(!this.schema)throw new Error("table schema not available");if(!Object(ee["i"])(this.schema,t))return Object(et["b"])(tt["a"].Warning,"Blob value encoded",'Please use the "Blob Encoding" option to decode this value in order to edit.');const r=Object(ee["h"])(this.schema,t);if(r.size>0){const e=Array.from(r);return Object(et["b"])(tt["a"].Error,"Incomplete Primary Key","This record is ambiguous. Please include the following additional columns in your query: "+e)}this.$router.push({name:s["a"].CassandraQueryDataEdit,params:{clusterName:this.clusterName},query:{...this.$route.query,[l["a"].PrimaryKey]:JSON.stringify(t)}})},returnToResults(){const e=JSON.parse(JSON.stringify(this.$route.query));delete e[l["a"].PrimaryKey],this.$router.push({name:s["a"].CassandraQuery,params:this.$route.params,query:e})},async onDownload(e){const{filename:t,results:a}=await Object(pe["downloadQuery"])(e,this.clusterName,this.query,this.retrievalOptions),s=new Blob([a],{type:"text/plain"});Object(at["b"])(URL.createObjectURL(s),t)}}}),rt=nt,ot=a("9328");function ct(e){this["$style"]=ot["default"].locals||ot["default"]}var it=Object(A["a"])(rt,u,d,!1,ct,null,null),lt=it.exports;const ut={path:"/cassandra",redirect:{name:s["a"].CassandraClusters},component:()=>a.e("cassandra").then(a.bind(null,"8afc")),children:[{path:"/",redirect:{name:s["a"].CassandraClusters}},{path:"clusters",name:s["a"].CassandraClusters,props:{type:"cassandra",clusterRouteName:s["a"].CassandraKeyspaces},component:()=>a.e("common").then(a.bind(null,"9abe")),meta:{breadcrumbText:"C* Clusters"}},{path:"clusters/:clusterName",redirect:{name:s["a"].CassandraKeyspaces}},{path:"clusters/:clusterName/explore",component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"e0dc")),props:!0,meta:{breadcrumbText:e=>e.params.clusterName},children:[{path:"",name:s["a"].CassandraKeyspaces,props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"fc3e")),meta:{breadcrumbText:"All Keyspaces"},children:[{path:"_create",props:!0,name:s["a"].CassandraKeyspaceCreate,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"917f"))}]},{path:":keyspaceName",props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"23e1")),meta:{breadcrumbText:e=>e.params.keyspaceName},children:[{path:"/",props:!0,name:s["a"].CassandraKeyspace,redirect:{name:s["a"].CassandraKeyspaceTables}},{path:"tables",props:!0,name:s["a"].CassandraKeyspaceTables,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"2408"))},{path:"udts/:udtName?",name:s["a"].CassandraKeyspaceUDTs,props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"965a"))}]},{path:":keyspaceName/_create",props:!0,name:s["a"].CassandraTableCreate,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-create-table")]).then(a.bind(null,"f7ec"))},{path:":keyspaceName/_createAdvanced",props:e=>({...e.params,statement:e.query.statement}),name:s["a"].CassandraTableCreateAdvanced,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-create-table")]).then(a.bind(null,"a7f4"))},{path:":keyspaceName/tables/:tableName",props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"9117")),meta:{breadcrumbText:e=>`${e.params.keyspaceName} | ${e.params.tableName}`},children:[{path:"/",redirect:{name:s["a"].CassandraTableData}},{path:"data",name:s["a"].CassandraTableData,props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"ee2d")),children:[{path:"_create",name:s["a"].CassandraTableDataCreate,props:e=>({create:!0,cluster:e.params.clusterName,keyspace:e.params.keyspaceName,table:e.params.tableName}),component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-query-edit")]).then(a.bind(null,"0822"))},{path:"row",name:s["a"].CassandraTableDataEdit,props:e=>{const t=e.query[l["a"].PrimaryKey];return{cluster:e.params.clusterName,keyspace:e.params.keyspaceName,table:e.params.tableName,primaryKey:t?JSON.parse(t):{}}},component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-query-edit")]).then(a.bind(null,"7f7f"))},{path:"drop",name:s["a"].CassandraTableDrop,props:e=>({...e.params,mode:"drop"}),component:()=>Promise.all([a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore-drop")]).then(a.bind(null,"32be"))},{path:"truncate",name:s["a"].CassandraTableTruncate,props:e=>({...e.params,mode:"truncate"}),component:()=>Promise.all([a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore-drop")]).then(a.bind(null,"32be"))}]},{path:"columns",name:s["a"].CassandraTableColumns,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"ee79"))},{path:"properties",name:s["a"].CassandraTableProperties,props:{disabled:!0},component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"87de"))},{path:"samples",name:s["a"].CassandraTableSamples,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"a40f"))},{path:"activity",name:s["a"].CassandraTableActivity,props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-explore~cassandra-explore-drop"),a.e("cassandra-explore")]).then(a.bind(null,"23ee"))}]},{path:":keyspaceName/*",redirect:{name:s["a"].CassandraKeyspace}}]},{path:"clusters/:clusterName/query",name:s["a"].CassandraQuery,component:lt,props:!0,meta:{breadcrumbText:e=>e.params.clusterName+" | Query"},children:[{path:"_create",name:s["a"].CassandraQueryDataCreate,props:e=>{const{params:t,query:a}=e,{encoding:s,keyspace:n,table:r}=a;return{create:!0,cluster:t.clusterName,keyspace:n,table:r,encoding:s}},component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-query-edit")]).then(a.bind(null,"0822"))},{path:"row",name:s["a"].CassandraQueryDataEdit,props:e=>{const t=e.query[l["a"].PrimaryKey];return{cluster:e.params.clusterName,keyspace:e.query.keyspace,table:e.query.table,primaryKey:t?JSON.parse(t):{}}},component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("admin~cassandra-explore~cassandra-query-edit"),a.e("cassandra-create-table~cassandra-query-edit"),a.e("cassandra-query-edit")]).then(a.bind(null,"7f7f"))}]}]},dt={path:"/dynomite",redirect:{name:s["a"].DynomiteClusters},component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("dynomite-explore")]).then(a.bind(null,"1ba8")),children:[{path:"/",name:s["a"].DynomiteClusters,props:{type:"dynomite",clusterRouteName:s["a"].DynomiteCluster},component:()=>a.e("common").then(a.bind(null,"9abe")),meta:{breadcrumbText:"Dynomite Clusters"}},{path:"clusters/:clusterName",props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("dynomite-explore")]).then(a.bind(null,"7f5a")),meta:{breadcrumbText:e=>e.params.clusterName},children:[{path:"/",name:s["a"].DynomiteCluster,redirect:{name:s["a"].DynomiteEmptyKeyView}},{path:"keys",name:s["a"].DynomiteEmptyKeyView,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("dynomite-explore")]).then(a.bind(null,"8a50"))},{path:"keys/_create",name:s["a"].DynomiteCreateKey,props:e=>({clusterName:e.params.clusterName,type:e.query.type||"string"}),component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("dynomite-explore")]).then(a.bind(null,"2c8b"))},{path:"keys/:keyName",name:s["a"].DynomiteEditKey,props:!0,component:()=>Promise.all([a.e("cassandra-create-table~cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("cassandra-explore~cassandra-query-edit~dynomite-explore"),a.e("dynomite-explore")]).then(a.bind(null,"ce1c"))}]}]};o["default"].use(c["a"]);const mt=new c["a"]({mode:"history",routes:[{path:"/",name:s["a"].ConnectionManager,component:()=>a.e("common").then(a.bind(null,"3eca"))},ut,dt,i]}),pt=s["a"].Datastores;mt.beforeEach((e,t,a)=>{function s(){const t=n["a"].state.user;e.matched.some(e=>e.meta.requiresAdmin)&&!t.isAdmin?a({name:pt}):(document.title=["Data Explorer",...r(e).map(e=>e.label)].join(" | "),a())}n["a"].state.user.email?s():n["a"].watch(e=>e.user.email,()=>s())}),mt.onError(e=>{e.message&&e.message.startsWith("Loading chunk")&&window.location.reload(!0)});t["a"]=mt},b353:function(e,t,a){e.exports={sampleQuery:"CassQueryHistory_sampleQuery_3FsQm",groupHeader:"CassQueryHistory_groupHeader_3LlBZ"}},b914:function(e,t,a){},bc9b:function(e,t,a){e.exports={navContainer:"DynomiteNav_navContainer_1d1-S",dynoKeyCount:"DynomiteNav_dynoKeyCount_2aTXl"}},c069:function(e,t,a){"use strict";var s=a("6de6"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},c129:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:"Thrift-based table",disabled:e.disableTooltip}},[a("font-awesome-icon",{attrs:{icon:e.faLandmark,"fixed-width":""}})],1)},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassTableThriftIcon",components:{[o.a.name]:o.a,FontAwesomeIcon:i["a"]},props:{disableTooltip:Boolean},data(){return{faLandmark:l["L"]}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},c172:function(e,t,a){"use strict";var s=a("ee7b"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},c4b7:function(e,t,a){e.exports={navContainer:"CassandraNav_navContainer_3Jd-j"}},c826:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchKeyspaceUsage",(function(){return r})),a.d(t,"fetchTableUsage",(function(){return o}));var s=a("38cd"),n=a("99c6");async function r(e,t){try{const a=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/usage`);return a.data}catch(a){throw Object(n["a"])(a)}}async function o(e,t,a){try{const n=await Object(s["a"])().get(`/REST/datastores/cassandra/clusters/${e}/keyspaces/${t}/tables/${a}/usage`);return n.data}catch(r){throw Object(n["a"])(r)}}},c9c5:function(e,t,a){"use strict";a.r(t);const s="Base",n="Nflx";async function r(e,t){let r;console.log("loading class...");try{r=await a("e530")(`./${e}/${n}${t}`)}catch(o){console.log(o.message);try{r=await a("e530")(`./${e}/${s}${t}`)}catch(o){console.log(o.message),console.error(`Failed to load class ${t} in dir ${e}`)}}return r.default}let o;async function c(){const e=await r("user/providers","UserServiceProvider");return o=new e,o.fetchUserInfo()}a.d(t,"fetchUserInfo",(function(){return c}))},cbf0:function(e,t,a){e.exports={cascader:"ClusterSelector_cascader_3at4k",clusterLabel:"ClusterSelector_clusterLabel_1aEpf",clusterNameLabel:"ClusterSelector_clusterNameLabel_1wb2H",clusterLocation:"ClusterSelector_clusterLocation_1Ab2S",environmentLabel:"ClusterSelector_environmentLabel_2xguO",prod:"ClusterSelector_prod_xB4ve",dropDownTrigger:"ClusterSelector_dropDownTrigger_3w30x",sharedClusterIcon:"ClusterSelector_sharedClusterIcon_2lkvg"}},cd49:function(e,t,a){"use strict";a.r(t);var s=a("896a"),n=a.n(s),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoggedIn?a("div",{attrs:{id:"app"}},[a("TheNav"),a("notification-element",{attrs:{"app-id":"nfdataexplorer2"}}),a("main",{staticClass:"vertical layout flex"},[a("router-view")],1)],1):a("div",{staticClass:"vertical center-center full-height layout"},[a("h1",{class:e.$style.title},[e._v("Netflix Data Explorer")]),a("h2",{class:e.$style.subtitle},[e._v("Signing in...")])])},o=[],c=a("6ed5"),i=a.n(c),l=a("2b0e"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout horizontal center",class:e.$style.navContainer},[a("el-menu",{attrs:{mode:"horizontal","background-color":"#39546a","text-color":"#F8F8F8","active-text-color":"#F8F8F8","unique-opened":"",router:""}},[a("el-menu-item",{attrs:{index:"/"}},[a("h1",[e._v("Data Explorer")])])],1),!e.datastoreScope||e.clusterName?a("cluster-selector",{staticClass:"spacer__left spacer__right"}):e._e(),a("el-menu",{staticClass:"flex spacer__left",attrs:{mode:"horizontal","background-color":"#39546a","text-color":"#F8F8F8","active-text-color":"#F8F8F8","unique-opened":"",router:""}},[e.isCassandraCluster&&e.clusterName?a("cassandra-nav"):e._e(),e.isDynomiteCluster&&e.clusterName?a("dynomite-nav"):e._e(),a("el-submenu",{staticStyle:{float:"right"},attrs:{index:"help"}},[a("template",{slot:"title"},[e._v("Help")]),a("el-menu-item",{attrs:{index:"docs"}},[a("div",{staticClass:"horizontal center layout"},[a("font-awesome-icon",{attrs:{icon:e.faExternalLinkAlt,size:"xs"}}),a("a",{attrs:{href:e.$t("nav.help.documentation.href"),target:"_blank",rel:"noopener"},on:{click:function(e){e.stopPropagation()}}},[e._v(e._s(e.$t("nav.help.documentation.label")))])],1)]),a("el-menu-item",{attrs:{index:"slack"}},[a("div",{staticClass:"horizontal center layout"},[a("font-awesome-icon",{attrs:{icon:e.faExternalLinkAlt,size:"xs"}}),a("a",{attrs:{href:e.$t("nav.help.chat.href"),target:"_blank",rel:"noopener"},on:{click:function(e){e.stopPropagation()}}},[e._v(e._s(e.$t("nav.help.chat.label")))])],1)]),a("el-menu-item",{attrs:{index:"email"}},[a("div",{staticClass:"horizontal center layout"},[a("font-awesome-icon",{attrs:{icon:e.faExternalLinkAlt,size:"xs"}}),a("a",{attrs:{href:e.$t("nav.help.email.href")},on:{click:function(e){e.stopPropagation()}}},[e._v(e._s(e.$t("nav.help.email.label")))])],1)])],2),e.isAdmin?a("el-menu-item",{staticStyle:{float:"right"},attrs:{index:"/admin"}},[a("router-link",{attrs:{to:{name:e.Routes.Admin}},on:{click:function(e){e.stopPropagation()}}},[a("font-awesome-icon",{attrs:{icon:e.faShieldAlt}}),e._v(" Admin")],1)],1):e._e(),e.isAdmin?a("div",{staticStyle:{float:"right","padding-top":"3px"}},[a("i18n-selector")],1):e._e()],1)],1)},d=[],m=a("4cb2"),p=a.n(m),y=a("f58e"),h=a.n(y),f=a("443e"),b=a.n(f),g=a("ad3d"),v=a("c074"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout horizontal center padded__horizontal"},[!e.showCascader&&e.currentCluster&&e.currentRegion&&e.currentEnvironment?a("div",{staticClass:"layout horizontal center",class:e.$style.clusterLabel,on:{click:e.onShowCascader}},[a("el-tooltip",{attrs:{content:"Shared Cluster",placement:"bottom"}},[e.isSharedCluster?a("font-awesome-icon",{staticClass:"spacer__right",class:e.$style.sharedClusterIcon,attrs:{icon:e.faUsers,"fixed-width":""}}):e._e()],1),a("div",{class:e.$style.clusterNameLabel},[e._v(e._s(e.currentCluster))]),e.isLocal?e._e():a("div",{staticClass:"layout horizontal center spacer__left",class:e.$style.clusterLocation},[a("div",{class:e.$style.regionLabel},[e._v(e._s(e.currentRegion))]),a("div",{staticClass:"spacer__left",class:[e.$style.environmentLabel,e.isProd?e.$style.prod:e.isProd]},[e._v(" "+e._s(e.currentEnvironment)+" ")])]),a("div",{staticClass:"spacer__left",class:e.$style.dropDownTrigger},[a("font-awesome-icon",{attrs:{icon:e.faSortDown}})],1)],1):e.availableEnvironments?a("el-cascader",{ref:"cascader",staticClass:"cluster-selector",class:e.$style.cascader,attrs:{placeholder:"Search for a cluster",options:e.clusters,size:"mini","filter-method":e.filterNode,filterable:""},on:{"visible-change":e.onVisibleChanged},model:{value:e.selectedEnvironment,callback:function(t){e.selectedEnvironment=t},expression:"selectedEnvironment"}}):e._e()],1)},T=[],x=a("299c"),S=a.n(x),w=a("c7ad"),E=a.n(w),k=a("eedf"),_=a.n(k),$=a("0613"),O=a("2ef0");function q(e,t){if(!t.length)return e;const[a,...s]=t;return Object(O["mapValues"])(Object(O["groupBy"])(e,a),e=>q(e,s))}var N=a("5de0"),A=l["default"].extend({name:"ClusterSelector",components:{[_.a.name]:_.a,[E.a.name]:E.a,[S.a.name]:S.a,FontAwesomeIcon:g["a"]},data(){return{faSortDown:v["Z"],faUsers:v["kb"],showCascader:!1}},computed:{datastoreScope(){return $["a"].state.config.currentDatastoreScope},currentCluster(){return $["a"].state.config.currentCluster},availableEnvironments(){return $["a"].state.config.environments},currentEnvironment(){return this.availableEnvironments?this.availableEnvironments.current.env:void 0},isProd(){return"prod"===this.currentEnvironment},currentRegion(){return this.availableEnvironments?this.availableEnvironments.current.region:void 0},selectedEnvironment:{get(){if(this.datastoreScope&&this.currentCluster&&this.availableEnvironments){const{current:e}=this.availableEnvironments;let t=new Array;return"local"!==e.env&&"local"!==e.region&&(t=[e.env,e.region]),[this.datastoreScope,this.currentCluster,...t]}return[]},set(e){if(!this.availableEnvironments)return;const[t,a,s,n]=e;this.isLocal?Object(N["a"])(t,a,"local","local"):Object(N["a"])(t,a,s,n)}},availableClusters(){return $["a"].state.config.clusters},clusters(){const e=q(this.availableClusters,["type","name","env","region"]),t=Object.entries(e).map(([e,t])=>{const a=Object.entries(t).map(([e,t])=>{let a;return"local"!==this.currentEnvironment&&"local"!==this.currentRegion&&(a=Object.entries(t).map(([e,t])=>({label:e.toUpperCase(),value:e,children:Object.keys(t).map(e=>({label:e.toUpperCase(),value:e,children:void 0}))})).sort((e,t)=>e.label.localeCompare(t.label))),{label:e,value:e,children:a}});return{label:e.substring(0,1).toUpperCase()+e.substring(1),value:e,children:a}});return t},isLocal(){return $["a"].getters.isLocal},isSharedCluster(){return $["a"].getters.isSharedCluster}},methods:{filterNode(e,t){return!!e.text&&e.text.toLowerCase().includes(t.toLowerCase())},onShowCascader(){this.showCascader=!0,l["default"].nextTick(()=>{const e=this.$refs.cascader,t=e.$el,a=t.querySelector(".el-input__inner");a&&a.click()})},onVisibleChanged(e){if(e){const e=this.$refs.cascader,t=e.$el,a=t.querySelector(".el-input__inner");a&&a.focus()}l["default"].nextTick(()=>{e||(this.showCascader=!1)})}}}),L=A,K=a("41f7"),I=(a("e34aa"),a("2877"));function j(e){this["$style"]=K["default"].locals||K["default"]}var R=Object(I["a"])(L,C,T,!1,j,null,null),D=R.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$style.navContainer},[a("el-menu-item",{attrs:{index:"/cassandra/clusters/"+e.clusterName+"/explore"}},[a("font-awesome-icon",{attrs:{icon:e.faCompass,"fixed-width":""}}),e._v(" Explore ")],1),a("el-menu-item",{attrs:{index:"/cassandra/clusters/"+e.clusterName+"/query?view=schema"}},[a("font-awesome-icon",{attrs:{icon:e.faSearch,"fixed-width":""}}),e._v(" Query ")],1)],1)},F=[],U=l["default"].extend({name:"CassandraNav",components:{[p.a.name]:p.a,FontAwesomeIcon:g["a"]},data(){return{faCompass:v["r"],faExternalLinkAlt:v["y"],faSearch:v["U"]}},computed:{currentCluster(){return $["a"].state.config.currentCluster},clusterName(){return this.currentCluster}}}),M=U,Q=a("53b8");function z(e){this["$style"]=Q["default"].locals||Q["default"]}var B=Object(I["a"])(M,P,F,!1,z,null,null),H=B.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout horizontal center",class:e.$style.navContainer},[e.clusterName?a("div",{class:e.$style.dynoKeyCount},[e._v(" ("+e._s(e.dynoKeyCount)+" Keys) ")]):e._e()])},W=[],Y=a("5733"),G=a("6612"),J=a.n(G),Z=l["default"].extend({name:"DynomiteNav",data(){return{dynoKeyCount:void 0}},computed:{currentCluster(){return $["a"].state.config.currentCluster},clusterName(){return this.currentCluster}},watch:{clusterName:{immediate:!0,async handler(){if(this.clusterName){const e=await Object(Y["getKeyCount"])(this.clusterName);this.dynoKeyCount=J()(e).format()}}}}}),X=Z,ee=a("a09e");function te(e){this["$style"]=ee["default"].locals||ee["default"]}var ae=Object(I["a"])(X,V,W,!1,te,null,null),se=ae.exports,ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{on:{change:e.onChangeLanguage},model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},[a("font-awesome-icon",{staticStyle:{"margin-top":"10px"},attrs:{slot:"prefix",icon:e.faGlobe},slot:"prefix"}),e._l(e.languages,(function(t,s){return a("el-option",{key:"Lang"+s,attrs:{value:t}},[e._v(e._s(t))])}))],2)},re=[],oe=a("4e4b"),ce=a.n(oe),ie=a("e772"),le=a.n(ie),ue=a("55b6"),de=a("7a4c"),me=l["default"].extend({name:"I18nSelector",components:{[le.a.name]:le.a,[ce.a.name]:ce.a,FontAwesomeIcon:g["a"]},data(){return{faGlobe:v["F"],languages:Object.keys(ue["a"].messages)}},methods:{onChangeLanguage(e){Object(de["a"])(e)}}}),pe=me,ye=Object(I["a"])(pe,ne,re,!1,null,null,null),he=ye.exports,fe=a("5566"),be=l["default"].extend({name:"TheNav",components:{[b.a.name]:b.a,[h.a.name]:h.a,[p.a.name]:p.a,FontAwesomeIcon:g["a"],ClusterSelector:D,CassandraNav:H,DynomiteNav:se,i18nSelector:he},data(){return{Routes:fe["a"],faCompass:v["r"],faExternalLinkAlt:v["y"],faShieldAlt:v["V"]}},computed:{currentCluster(){return $["a"].state.config.currentCluster},clusterName(){return this.currentCluster},datastoreScope(){return $["a"].state.config.currentDatastoreScope},isCassandraCluster(){return"cassandra"===this.datastoreScope},isDynomiteCluster(){return"dynomite"===this.datastoreScope},isAdmin(){return $["a"].state.user.isAdmin}}}),ge=be,ve=a("3fd8");function Ce(e){this["$style"]=ve["default"].locals||ve["default"]}var Te=Object(I["a"])(ge,u,d,!1,Ce,null,null),xe=Te.exports,Se=a("fc60"),we=a("9a7e"),Ee=a("da97"),ke=l["default"].extend({name:"App",components:{TheNav:xe},data(){return{isLoggedIn:!1,refreshTokenTimeoutId:-1}},computed:{userEmail(){return $["a"].state.user.email},isSessionInvalidated(){return $["a"].state.user.isSessionInvalidated},clusterName(){return this.$route.params.clusterName},datastoreScope(){const e=this.$route.fullPath.split("/");if(!(e.length<2||0===e[1].length))return e[1]}},watch:{async userEmail(e){if(this.isLoggedIn=!!e,this.isLoggedIn){this.startTokenRefreshTimer();try{await Promise.all([$["a"].dispatch(Se["a"].FetchEnvironments),$["a"].dispatch(Se["a"].FetchClusters)])}catch(t){Object(we["b"])(Ee["a"].Error,"Failed to load environment",t.message)}}},isSessionInvalidated(){this.clearTokenRefreshTimer(),i.a.alert("We'll need to reload the app to start a new session.","Session Expired",{confirmButtonText:"Continue",type:"warning",showClose:!1}).then(()=>{window.location.reload(!0)})},clusterName:{immediate:!0,handler(e,t){e!==t&&$["a"].dispatch(Se["a"].SetCurrentCluster,{name:e})}},datastoreScope:{immediate:!0,handler(e,t){e!==t&&$["a"].dispatch(Se["a"].SetDatastoreScope,{datastoreType:e})}}},created(){$["a"].dispatch(Se["a"].FetchUserInfo)},methods:{startTokenRefreshTimer(){this.clearTokenRefreshTimer(),this.refreshTokenTimeoutId=window.setTimeout(()=>{$["a"].dispatch(Se["a"].FetchUserInfo),this.startTokenRefreshTimer()},9e5)},clearTokenRefreshTimer(){this.refreshTokenTimeoutId&&window.clearTimeout(this.refreshTokenTimeoutId)}}}),_e=ke,$e=a("5bb9");function Oe(e){this["$style"]=$e["default"].locals||$e["default"]}var qe=Object(I["a"])(_e,r,o,!1,Oe,null,null),Ne=qe.exports,Ae=(a("a347"),a("afbc"));const Le="base",Ke="nflx",Ie=["email-selector","notification-element"];function je(){Ie.forEach(e=>{l["default"].component(e,()=>a("8868")(`./${Ke}/${e}.vue`).catch(()=>a("8868")(`./${Le}/${e}.vue`)))})}a("0dc4");var Re=a("4897"),De=a.n(Re),Pe=a("b2d6"),Fe=a.n(Pe),Ue=a("9483");Object(Ue["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Me=a("ecee"),Qe=a("834f"),ze=a("dfe7"),Be=[Qe["faExternalLinkAlt"],ze["faQuestionCircle"]],He=(a("c1ea"),a("2b88")),Ve=a.n(He);l["default"].config.productionTip=!1,l["default"].use(n.a.directive),De.a.use(Fe.a),l["default"].prototype.$ELEMENT={size:"small"},l["default"].component("font-awesome-icon",g["a"]),Me["c"].add(...Be),l["default"].use(Ve.a),je(),new l["default"]({i18n:ue["a"],router:Ae["a"],store:$["a"],render:e=>e(Ne)}).$mount("#app")},d536:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cass-query-editor layout vertical"},[a("div",{staticClass:"toolbar layout horizontal justified center padded"},[a("h3",[e._v("Query")]),a("el-button",{attrs:{type:"primary",disabled:e.isSchemaLoading},on:{click:e.refresh}},[a("font-awesome-icon",{attrs:{icon:e.faSyncAlt}}),e._v(" Refresh Schema ")],1)],1),a("div",{ref:"editor",staticClass:"border__top border__bottom",staticStyle:{height:"400px"}}),e.queryErrors.length>0?a("div",{staticClass:"padded"},[a("cass-query-validation-message",{staticClass:"bordered",attrs:{error:e.queryErrors[0]},on:{"show-help":function(t){return e.$emit("show-help",t.error)}}})],1):e.isSchemaLoading?a("div",{staticClass:"layout horizontal center padded spacer",class:e.$style.messages},[a("font-awesome-icon",{attrs:{icon:e.faLightbulb}}),a("div",{class:e.$style["message-text"]},[e._v(" Schema information is loading. Stand by for code assist... ")])],1):a("div",{staticClass:"layout horizontal center padded spacer",class:e.$style.messages},[a("font-awesome-icon",{attrs:{icon:e.faLightbulb}}),a("div",{class:e.$style["message-text"]},[e._v(" Try using Ctrl + Space for code assist ")])],1),a("div",{staticClass:"toolbar layout horizontal padded"},[a("el-tooltip",{attrs:{content:"Execute command ("+e.metaKey+" + Enter)",placement:"right"}},[a("el-button",{attrs:{type:"primary",disabled:0===e.query.length},on:{click:e.execute}},[a("font-awesome-icon",{attrs:{icon:e.faBolt}}),e._v(" Execute ")],1)],1),a("el-form",{staticClass:"ml-4 mt-4",attrs:{inline:""}},[a("el-form-item",{attrs:{label:"Blob Encoding"}},[a("cass-encoding-dropdown",{staticStyle:{width:"100px"},attrs:{required:""},model:{value:e.retrievalOptions.encoding,callback:function(t){e.$set(e.retrievalOptions,"encoding",t)},expression:"retrievalOptions.encoding"}})],1),a("el-checkbox",{staticClass:"mt-2",attrs:{label:"Also decode value columns",disabled:!e.retrievalOptions.encoding},model:{value:e.retrievalOptions.decodeValues,callback:function(t){e.$set(e.retrievalOptions,"decodeValues",t)},expression:"retrievalOptions.decodeValues"}}),a("el-tooltip",{attrs:{placement:"right"}},[a("div",{staticStyle:{"max-width":"300px"},attrs:{slot:"content"},slot:"content"},[e._v(" By default, only blobs used in the primary key will be deserialized and decoded. Use caution when decoding large blob values as this may put additional pressure on your cluster. ")]),a("font-awesome-icon",{staticClass:"ml-2",class:e.$style.infoIcon,attrs:{icon:e.faInfoCircle}})],1)],1)],1)])},n=[],r=a("299c"),o=a.n(r),c=a("3787"),i=a.n(c),l=a("4105"),u=a.n(l),d=a("dcdc"),m=a.n(d),p=a("eedf"),y=a.n(p),h=a("2b0e"),f=a("ad3d"),b=a("c074"),g=a("b702"),v=a("2ef0");class C{constructor(e){this.schemaMap={},e.forEach(({keyspace:e,table:t,column:a,type:s})=>{Object(v["set"])(this.schemaMap,`${e}.${t}.${a}`,s)})}getKeyspaceNames(){return Object.keys(this.schemaMap).sort((e,t)=>e.localeCompare(t))}getTableNames(e){const t=this.schemaMap[this.sanitizeName(e)];return t?Object.keys(t).sort((e,t)=>e.localeCompare(t)):[]}getColumnNames(e,t){const a=Object(v["get"])(this.schemaMap,`${e}.${t}`);return a?Object.keys(a).sort((e,t)=>e.localeCompare(t)):[]}getColumns(e,t,a={}){const s=this.getTableColumns(e,t);if(!s)return[];const n=[];for(const[r,o]of Object.entries(s)){const e="partition"===o,t="clustering"===o;(!a.filterable||a.filterable&&(e||t))&&n.push({name:r,type:o,isPartitionKey:e,isClusteringColumn:t})}return n.sort((e,t)=>{const{name:a,type:s}=e,{name:n,type:r}=t;return"partition"===s&&"partition"!==r?-1:"partition"!==s&&"partition"===r?1:"partition"===s&&"partition"===r?a-n:"clustering"===s&&"clustering"!==r?-1:"clustering"!==s&&"clustering"===r?1:"clustering"===s&&"clustering"===r?a-n:a<n?-1:a>n?1:0})}hasKeyspace(e){return!!Object(v["get"])(this.schemaMap,e)}hasTable(e,t){return!!Object(v["get"])(this.schemaMap,`${e}.${t}`)}getTableColumns(e,t){return Object(v["get"])(this.schemaMap,`${this.sanitizeName(e)}.${this.sanitizeName(t)}`)}sanitizeName(e){return e?e.replace(/"/g,""):e}}const T=new RegExp(/[A-Z]+/),x=new RegExp(/^"(.*)"$/);class S{constructor(e,t){this.queryTokenizer=e,this.schema=t}updateSchema(e){this.schema=e}getCompleter(){const e=this,t=this.queryTokenizer;return{getCompletions(a,s,n,r,o){const{row:c,column:i}=n,l=t.getTokensUpToRow(c),u=t.getKeyspace(),d=t.getTable();let m=a.session.getTokenAt(c,i);!m||"text"!==m.type&&"empty"!==m.type||(m=e.queryTokenizer.getPreviousNonTextToken(l,m));let p=new Array;if(m)switch(m.type){case"statement.terminator":p=[];break;case"paren.lparen":{const t=e.queryTokenizer.getPreviousNonTextToken(l,m);p=t&&"values"===t.value.toLowerCase()?[]:e.getColumnSuggestions(u,d);break}case"punctuation.comma":case"punctuation.separator":p=e.getColumnSuggestions(u,d);break;case"identifier":{const t=e.queryTokenizer.getPreviousNonTextToken(l,m);p=t&&"keyword"===t.type&&u&&d?e.getSuggestionsForKeyword(u,d,l,t):e.getKeyspaceSuggestions();break}case"entity.name.table":p=u&&d&&e.schema&&e.schema.hasTable(u,d)?e.getCurrentActionOptionSuggestions():e.getTableSuggestions(u);break;case"entity.name.keyspace":p=e.getKeyspaceSuggestions();break;case"statement.operator.equals":break;case"punctuation.operator":case"where.statement.column_name":case"select.statement.column":p=e.getTableSuggestions(u);break;case"where.statement.column_value":p=e.getCurrentActionOptionSuggestions();break;case"keyword":p=e.getSuggestionsForKeyword(u,d,l,m);break;default:}else{const t=e.queryTokenizer.containsActionToken();!t&&u&&(p=e.getActionSuggestions(["SELECT","INSERT","UPDATE"]))}o(null,p)}}}quoteName(e){return x.test(e)?e:T.test(e)?`"${e}"`:e}getKeyspaceSuggestions(){if(!this.schema)return[];const e=this.schema.getKeyspaceNames().map(this.quoteName);return this.getSuggestions(e,"keyspace")}getColumnSuggestions(e,t){if(!this.schema)return[];const a=this.schema.getColumns(e,t),s=a.reduce((e,t)=>e.set(this.quoteName(t.name),t),new Map),n=Array.from(s.keys());return this.getSuggestions(n,e=>{const t=s.get(e);return t.isPartitionKey?"partition key":t.isClusteringColumn?"clustering column":"column"})}getTableSuggestions(e){if(!this.schema)return[];const t=this.schema.getTableNames(e).map(this.quoteName);return this.getSuggestions(t,"table")}getActionSuggestions(e){return this.getSuggestions(e,"action")}getCurrentActionOptionSuggestions(){const e=this.queryTokenizer.getActionToken();if(!e)return[];const t=this.queryTokenizer.getOptionsForKeyword(e.value);return this.getSuggestions(t,"option")}getSuggestions(e,t,a={}){return e.map((s,n)=>{const r="string"===typeof t?t:t(s),o=r.replace(/\s+/,"_")+"Icon";return{name:""+s,value:""+s,score:a.score||e.length-n,meta:r,icon:"property",className:o}})}getSuggestionsForKeyword(e,t,a,s){if(!s)return[];let n=new Array;switch(s.value.toLowerCase()){case"update":case"from":case"into":n=this.getKeyspaceSuggestions();break;case"set":case"where":case"and":n=this.getColumnSuggestions(e,t);break;case"select":n=(new Array).concat(this.getColumnSuggestions(e,t),this.getSuggestions(["*"],"column")),n.forEach((e,t)=>e.score=n.length-t);break;default:{const r=this.queryTokenizer.getPreviousToken(a,s);r&&"keyword"===r.type&&(n=this.getSuggestionsForKeyword(e,t,a,r));break}}return n}}const w="keyword",E="entity.name.keyspace",k="entity.name.table";class _{constructor(e){this.editor=e,this.actionOptionsMap={},this.actionOptionsMap={select:["WHERE","ORDER BY","LIMIT","ALLOW FILTERING"],insert:["VALUES","USING TTL","TIMESTAMP"],update:["SET","USING TTL","USING TIMESTAMP","IF","IF EXISTS","IF NOT EXISTS"]}}getKeyspace(){return this.getTokenValue(E)}getTable(){return this.getTokenValue(k)}isSelectStatement(){return!!this.findTokenWithValue(w,"select")}isInsertStatement(){return!!this.findTokenWithValue(w,"insert")}isUpdateStatement(){return!!this.findTokenWithValue(w,"update")}findToken(e){const t=this.editor.session.getLength();for(let a=0;a<=t;a++){const t=this.editor.session.getTokens(a),s="string"===typeof e?t.find(t=>t.type===e):t.find(e);if(s)return s}return null}findTokenWithValue(e,t){return this.findToken(a=>a.type===e&&a.value.toLowerCase()===t.toLowerCase())}filterTokens(e){let t=new Array;const a=this.editor.session.getLength();for(let s=0;s<=a;s++){const e=this.editor.session.getTokens(s);t=t.concat(e)}return"string"===typeof e?t.filter(t=>t.type===e):t.filter(e)}getOptionsForKeyword(e){return this.actionOptionsMap[e.toLowerCase()]}getActionToken(){const e=new Set(Object.keys(this.actionOptionsMap));return this.findToken(t=>"keyword"===t.type&&e.has(t.value.toLowerCase()))}containsActionToken(){return!!this.getActionToken()}getTokensUpToRow(e){let t=new Array;for(let a=0;a<=e;a++){const e=this.editor.session.getTokens(a);t=t.concat(e)}return t}getPreviousToken(e,t){if(!e||0===e.length)return null;const a=e.indexOf(t);return a>0?e[a-1]:null}getPreviousNonTextToken(e,t){let a=t;while(null!==(a=this.getPreviousToken(e,a)))if("text"!==a.type&&"empty"!==a.type)return a;return null}getTokenValue(e){const t=this.findToken(e);return t?t.value:null}}class ${constructor(e,t){this.queryTokenizer=e,this.schema=t}updateSchema(e){this.schema=e}validate(){const e=new Array;if(!this.queryTokenizer.containsActionToken())return e;const t=this.queryTokenizer.getKeyspace(),a=this.queryTokenizer.getTable();return t&&a?this.schema&&!this.schema.hasKeyspace(t)?this.addSchemaError(e,`Keyspace ${t} could not be found.`,void 0):this.schema&&!this.schema.hasTable(t,a)?this.addSchemaError(e,`Table ${a} could not be found.`,t):this.queryTokenizer.isInsertStatement()?this.validateInsert(e,t,a):this.queryTokenizer.isUpdateStatement()?this.validateUpdate(e,t,a):this.queryTokenizer.isSelectStatement()&&this.validateSelect(e,t,a):this.addSyntaxError(e,"Keyspace and table names must be fully qualified (e.g. my_keyspace.my_table)"),e}validateInsert(e,t,a){const s="INSERT",n=this.queryTokenizer.filterTokens("insert.column_name"),r=this.queryTokenizer.filterTokens("insert.column_value");this.checkColumnTokens(e,"insert.column_name",t,a)&&this.checkPrimaryKey(e,"insert.column_name",t,a)&&n.length!==r.length&&this.addSyntaxError(e,"Mismatched number of columns and values",s)}validateUpdate(e,t,a){const s="UPDATE",n=this.queryTokenizer;this.checkPrimaryKey(e,"update.statement.column_name",t,a)&&(n.findTokenWithValue("keyword","where")||this.addSyntaxError(e,"Missing WHERE clause",s))}validateSelect(e,t,a){this.checkColumnTokens(e,"select.statement.column",t,a),this.checkColumnTokens(e,"where.statement.column_name",t,a)}checkPrimaryKey(e,t,a,s){if(!this.schema)return;const n=new Set(this.queryTokenizer.filterTokens(t).map(e=>e.value)),r=this.schema.getColumns(a,s).filter(e=>e.isPartitionKey||e.isClusteringKey);return r.every(t=>!!n.has(t.name)||(this.addSchemaError(e,`Missing mandatory primary key part "${t.name}"`,a),!1))}checkColumnTokens(e,t,a,s){if(!this.schema)return;const n=this.queryTokenizer.filterTokens(t),r=new Set(this.schema.getColumnNames(a,s));return n.every(t=>{const{value:n}=t;return!!r.has(n)||(e.push({type:"schema",message:`Could not find column "${n}" on ${a}.${s}`,keyspace:a}),!1)})}addSchemaError(e,t,a){e.push({type:"schema",message:t,keyspace:a})}addSyntaxError(e,t,a){e.push({type:"syntax",message:t,action:a})}}var O=a("0613"),q=a("fc60"),N=a("6d4f"),A=a.n(N),L=(a("9222"),a("da79"),a("31c8")),K=a.n(L),I=a("e81e"),j=a.n(I),R=a("f7fe"),D=a.n(R),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-alert",{attrs:{type:"warning",title:"","show-icon":""}},[e._v(" "+e._s(e.error.message)+" "),e.helpLink?a("a",{attrs:{href:"#"},on:{click:e.onClickLink}},[e._v(e._s(e.helpLink))]):e._e()])],1)},F=[],U=a("e04d"),M=a.n(U),Q=h["default"].extend({name:"CassQueryValidationMessage",components:{[M.a.name]:M.a},props:{error:{type:Object,required:!0}},computed:{helpLink(){switch(this.error.type){case"schema":return"View Schema Reference";case"syntax":return"View Syntax Reference"}}},methods:{onClickLink(){this.$emit("show-help",{error:this.error})}}}),z=Q,B=a("2877"),H=Object(B["a"])(z,P,F,!1,null,null,null),V=H.exports,W=a("9067");A.a.config.loadModule("ace/snippets",()=>{}),A.a.config.loadModule("ace/ext/language_tools",()=>{}),A.a.config.setModuleUrl("ace/mode/cql",K.a),A.a.config.setModuleUrl("ace/snippets/cql",j.a);var Y=h["default"].extend({name:"CassQueryEditor",components:{[y.a.name]:y.a,[m.a.name]:m.a,[u.a.name]:u.a,[i.a.name]:i.a,[o.a.name]:o.a,CassEncodingDropdown:W["a"],CassQueryValidationMessage:V,FontAwesomeIcon:f["a"]},props:{value:{type:String,required:!0},retrievalOptions:{type:Object,required:!0}},data(){return{editor:void 0,queryTokenizer:void 0,queryCompleter:void 0,queryValidator:void 0,faBolt:b["e"],faInfoCircle:b["J"],faLightbulb:g["b"],faSyncAlt:b["bb"],query:this.value,queryErrors:new Array}},computed:{currentCluster(){return O["a"].state.config.currentCluster},schema(){const e=O["a"].state.cassandra.cluster.schema;return e.length>0?new C(e):void 0},metaKey(){return-1!==navigator.appVersion.indexOf("Mac")?"Cmd":"Ctrl"},isSchemaLoading(){return O["a"].state.cassandra.cluster.schemaLoading}},watch:{value(e){this.query=e,e!==this.editor.getSession().getValue()&&this.editor.getSession().setValue(this.query)},schema:{immediate:!0,handler(e,t){e&&(this.queryCompleter&&(this.queryCompleter&&this.queryCompleter.updateSchema(e),this.queryValidator&&this.queryValidator.updateSchema(e)),void 0===t&&void 0!==e&&this.processQuery(this.query))}}},created(){this.validateQuery=D()(this.validateQuery,300)},mounted(){this.editor=A.a.edit(this.$refs.editor,{maxLines:50,minLines:10,value:this.query,mode:"ace/mode/cql",showPrintMargin:!1}),this.editor.setOptions({enableBasicAutocompletion:!0,wrap:!0}),this.editor.commands.addCommand({name:"submitQuery",bindKey:{win:"Ctrl-s",mac:"Command-enter"},exec:this.execute});const e=A.a.require("ace/snippets");e||console.warn("unable to load snippets");const t=e.snippetManager;A.a.config.loadModule("ace/snippets/cql",e=>{if(e){const a=t.parseSnippetFile(e.snippetText);t.register(a||[],e.scope)}});const a=A.a.require("ace/ext/language_tools"),s=A.a.require("ace/lib/lang");this.queryTokenizer=new _(this.editor),this.queryCompleter=new S(this.queryTokenizer,void 0),this.queryValidator=new $(this.queryTokenizer,void 0);const n={getCompletions(e,a,s,n,r){const o=t.snippetMap,c=[];t.getActiveScopes(e).forEach(e=>{const t=o[e]||[];for(let a=t.length;a--;){const e=t[a],s=e.name||e.tabTrigger;s&&c.push({caption:s,snippet:e.content,meta:e.tabTrigger&&!e.name?e.tabTrigger+" ":"snippet",type:"snippet",className:"snippetIcon"})}},this),r(null,c.reverse())},getDocTooltip(e){"snippet"!==e.type||e.docHTML||(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML(e.snippet)].join(""))}};a.setCompleters([n,this.queryCompleter.getCompleter()]),this.editor.on("change",this.onEditorChanged.bind(this)),this.editor.commands.on("afterExec",this.onAfterExec.bind(this));const r=this.editor.session.getSelection();r.on("changeCursor",this.onChangeCursor.bind(this)),r.on("changeSelection",this.onChangeSelection.bind(this))},methods:{onAfterExec(e){if("insertstring"!==e.command.name)return;const t=e.args;"."!==t&&"("!==t||this.editor.execCommand("startAutocomplete")},onEditorChanged(){const e=this.editor.getSession().getValue();this.$emit("input",e),this.processQuery(e)},processQuery(e){let t,a;if(this.queryTokenizer&&this.schema){const e=this.queryTokenizer.getKeyspace(),s=this.queryTokenizer.getTable();e&&s&&(t=this.schema.hasKeyspace(e)?e:void 0,a=this.schema.hasTable(e,s)?s:void 0,t&&a?this.$emit("change-schema",{keyspace:t,table:a}):this.$emit("schema-not-found",{keyspace:e,table:s}))}this.$emit("update",{query:e,keyspace:t,table:a}),this.validateQuery()},validateQuery(){this.queryValidator?this.queryErrors=this.queryValidator.validate():this.queryErrors=[]},refresh(){this.$store.dispatch(q["a"].FetchSchema,{cluster:this.currentCluster})},execute(){0!==this.query.length&&this.$emit("execute",{query:this.query,options:this.retrievalOptions})},onChangeCursor(){const{row:e,column:t}=this.editor.getCursorPosition(),a=this.editor.session.getTokenAt(e,t);JSON.stringify(a,null,"\t")},onChangeSelection(){const{row:e,column:t}=this.editor.getCursorPosition(),a=this.editor.session.getTokenAt(e,t+1);a&&"where.statement.column_name"===a.type&&this.editor.execCommand("startAutocomplete")}}}),G=Y,J=a("c172");function Z(e){this["$style"]=J["default"].locals||J["default"]}var X=Object(B["a"])(G,s,n,!1,Z,null,null);t["a"]=X.exports},da97:function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){e[e["Error"]=0]="Error",e[e["Info"]=1]="Info",e[e["Success"]=2]="Success",e[e["Warning"]=3]="Warning"}(s||(s={}))},dea2:function(e,t,a){"use strict";a("347b")},e34aa:function(e,t,a){"use strict";a("80e6")},e530:function(e,t,a){var s={"./cassandra/CassService":["220c"],"./cassandra/CassService.ts":["220c"],"./cassandra/lib/ClusterService":["098e"],"./cassandra/lib/ClusterService.ts":["098e"],"./cassandra/lib/FeatureService":["2ecf"],"./cassandra/lib/FeatureService.ts":["2ecf"],"./cassandra/lib/KeyspaceService":["aa43"],"./cassandra/lib/KeyspaceService.ts":["aa43"],"./cassandra/lib/MetricsService":["029f"],"./cassandra/lib/MetricsService.ts":["029f"],"./cassandra/lib/QueryService":["ee13"],"./cassandra/lib/QueryService.ts":["ee13"],"./cassandra/lib/SchemaService":["2085"],"./cassandra/lib/SchemaService.ts":["2085"],"./cassandra/lib/TablesService":["3e53"],"./cassandra/lib/TablesService.ts":["3e53"],"./cassandra/lib/UsageService":["c826"],"./cassandra/lib/UsageService.ts":["c826"],"./dynomite/DynoService":["5733"],"./dynomite/DynoService.ts":["5733"],"./dynomite/lib/DynoClusterService":["04d1"],"./dynomite/lib/DynoClusterService.ts":["04d1"],"./dynomite/lib/DynoFieldsService":["f7be"],"./dynomite/lib/DynoFieldsService.ts":["f7be"],"./dynomite/lib/DynoKeyService":["2a15"],"./dynomite/lib/DynoKeyService.ts":["2a15"],"./user/UserService":["c9c5"],"./user/UserService.ts":["c9c5"],"./user/__mocks__/UserService":["85e5","dynamic-services28"],"./user/__mocks__/UserService.ts":["85e5","dynamic-services28"],"./user/providers/BaseUserServiceProvider":["29bd","dynamic-services30"],"./user/providers/BaseUserServiceProvider.ts":["29bd","dynamic-services30"],"./user/providers/IUserServiceProvider":["4d89","dynamic-services32"],"./user/providers/IUserServiceProvider.ts":["4d89","dynamic-services32"]};function n(e){if(!a.o(s,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(s)},n.id="e530",e.exports=n},e81e:function(e,t,a){(function(e){ace.define("ace/snippets/cql",["require","exports","module"],(function(e,t){"use strict";t.snippetText="# INSERT\nsnippet INSERT\n\tINSERT INTO ${1:keyspace}.${2:table} (${3:columns}) VALUES(${4:values});\n\n# INSERT with TTL\nsnippet INSERT(with TTL) \n\tINSERT INTO ${1:keyspace}.${2:table} (${3:columns}) VALUES(${4:values}) USING TTL ${5:seconds}; \n\n# SELECT(simple) \nsnippet SELECT *\nselect ${ 0:*} from ${1:keyspace}.${2:table} \n\n# SELECT(all options) \nsnippet SELECT(with options) \n\tSELECT ${1:expression} \n\tFROM ${2:keyspace_name}.${3:table_name} \n\tWHERE ${4:relation} AND ${5:relation} ...\n\tORDER BY(clustering_column  ASC | DESC ...) \n\tLIMIT n\n\tALLOW FILTERING\n\n# UPDATE\nsnippet UPDATE\n\tUPDATE ${1:keyspace_name}.${2:table_name} SET ${3:column1}=${4:value1}, ${5:column2}=${6:value2} \n\tWHERE ${7:partition_key}=${8:partition_value} \n\n# UPDATE with TTL\nsnippet UPDATE(with TTL) \n\tUPDATE ${1:keyspace_name}.${2:table_name} WITH TTL ${3:expiration_in_seconds} SET ${4:column1}=${5:value1}, ${6:column2}=${7:value2} \n\tWHERE ${8:partition_key}=${9:partition_value} \n\n# WHERE clause\nsnippet WHERE clause\n\tWHERE ${1:column_name}=${2:column_value}\n\n",t.scope="cql"})),function(){ace.require(["ace/snippets/cql"],(function(t){e&&(e.exports=t)}))}()}).call(this,a("62e4")(e))},e8e5:function(e,t,a){e.exports={menu:"CassQueryNavMenu_menu_2-Pe5",collpased:"CassQueryNavMenu_collpased_1zEY-"}},ea54:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));class s extends Error{constructor(e){super(e||"request canceled")}}},ec88:function(e,t,a){"use strict";var s=a("8c71"),n=a.n(s);a.d(t,"default",(function(){return n.a}))},ee13:function(e,t,a){"use strict";a.r(t),a.d(t,"executeQuery",(function(){return o})),a.d(t,"downloadQuery",(function(){return c}));a("2b3d");var s=a("38cd"),n=a("59af"),r=a("99c6");async function o(e,t,a){try{const n=new URLSearchParams;n.set("truncate","all");const r=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${e}/query?${n}`,{query:t,options:a});return r.data}catch(n){throw Object(r["a"])(n)}}async function c(e,t,a,o){try{const r=new URLSearchParams;r.set("generateFile","true"),r.set("format",e);const c=await Object(s["a"])().post(`/REST/datastores/cassandra/clusters/${t}/query?${r}`,{query:a,options:o}),{data:i,headers:l}=c,u=Object(n["a"])(l["content-disposition"],"cql"===e?"insert.cql":"download."+e);return{filename:u,results:i}}catch(c){throw Object(r["a"])(c)}}},ee55:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout vertical",class:e.$style.cassTableResults},[a("div",{staticClass:"toolbar layout horizontal justified center padded",class:e.$style.toolbar},[a("div",{staticClass:"layout horizontal center"},[e.allowActions?[a("el-tooltip",{attrs:{content:"Insert a new record",placement:"bottom"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onInsert}},[a("font-awesome-icon",{attrs:{icon:e.faPlusCircle}}),e._v(" Insert ")],1)],1),a("span",{staticClass:"spacer__left spacer__right"},[e._v("|")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onDownloadCQL}},[a("font-awesome-icon",{attrs:{icon:e.faCloudDownloadAlt}}),e._v(" CQL ")],1)]:e._e()],2),a("el-checkbox",{attrs:{label:"Freeze Primary Key Columns"},model:{value:e.freezeColumns,callback:function(t){e.freezeColumns=t},expression:"freezeColumns"}})],1),a("v-client-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],key:e.schema.name,ref:"table",staticClass:"flex scroll",class:e.$style.table,attrs:{data:e.data,columns:e.tableColumns,options:e.tableOptions,"element-loading-text":"Loading...","allow-export":""},scopedSlots:e._u([e._l(e.tableColumns,(function(t){return{key:t,fn:function(s){return[a("div",{key:t,class:e.$style.tableCell,on:{click:function(a){return e.onCellClick(s.row,t)}}},[e.isEncodedBlob(t)?a("el-tooltip",{attrs:{content:e.getEncodedBlobTooltip(t),placement:"bottom"}},[a("span",[e._v(e._s(e.getCellData(s.row,t)))])]):[e._v(" "+e._s(e.getCellData(s.row,t))+" ")]],2)]}}}))],null,!0)},[a("el-button",{staticClass:"export-button",attrs:{slot:"afterTable",type:"primary",size:"mini"},on:{click:e.exportToCsv},slot:"afterTable"},[e._v("Export to CSV")])],1),e.pageState?a("div",{staticClass:"padded border__left"},[a("a",{attrs:{href:"#"},on:{click:e.onFetchNextPage}},[a("font-awesome-icon",{staticClass:"spacer__right",attrs:{icon:e.faCloudDownloadAlt,"fixed-width":""}}),e._v(" Fetch More Results... ")],1)]):e._e()],1)},n=[],r=a("299c"),o=a.n(r),c=a("101e"),i=a.n(c),l=a("dcdc"),u=a.n(l),d=a("eedf"),m=a.n(d),p=a("2b0e"),y=a("ad3d"),h=a("c074"),f=a("f970"),b=a("a632"),g=a("3efd"),v=a("9ebe"),C=a("9a7e"),T=a("da97");p["default"].use(v["ClientTable"]);var x=p["default"].extend({name:"CassTableResults",components:{[m.a.name]:m.a,[u.a.name]:u.a,[i.a.name]:i.a,[o.a.name]:o.a,FontAwesomeIcon:y["a"]},props:{schema:{type:Object,required:!0},columns:{type:Array,required:!0},truncatedColumns:{type:Array},data:{type:Array,required:!0},pageState:{type:String},showAllColumns:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},allowActions:{type:Boolean,default:!1},retrievalOptions:{type:Object,default(){return{encoding:void 0}}}},data(){return{faCloudDownloadAlt:h["n"],faLaptopCode:h["M"],faPlusCircle:h["R"],freezeColumns:!0}},computed:{sortedColumns(){return this.schema?Object(f["g"])(this.schema):[]},tableColumns(){const e=this.showAllColumns?this.sortedColumns:this.columns;return e.map(e=>e.name)},tableOptions(){const e=new Set(this.truncatedColumns),t=this.tableColumns.reduce((t,a)=>(e.has(a)?t[a]=a+" (contains truncated content)":t[a]=a,t),{}),a=this.freezeColumns?"frozen":"",s=[],{partitionKeys:n,clusteringKeys:r}=this.schema;n.forEach(e=>s[e.name]="primary-key partition-key "+a),r.forEach(e=>s[e.name]="primary-key clustering-key "+a);const o=new Set(n.map(e=>e.name)),c=new Set(r.map(e=>e.name));for(let i=this.sortedColumns.length-1;i>=0;i--){const{name:e}=this.sortedColumns[i];if(o.has(e)||c.has(e)){s[e]=s[e]+" last-frozen-column";break}}return{headings:t,columnsClasses:s,filterByColumn:!0,perPage:100,texts:{count:"{from} to {to} of {count} items|{count} items|1 item",noResults:"No matching items",filterBy:"Filter..."}}},columnMap(){return this.sortedColumns.reduce((e,t)=>e.set(t.name,t),new Map)},partitionKeySet(){return new Set(this.schema.partitionKeys.map(e=>e.name))},clusteringKeySet(){return new Set(this.schema.clusteringKeys.map(e=>e.name))},hasEncodedBlobPrimaryKey(){const{primaryKey:e}=this.schema;return e.some(e=>this.isEncodedBlob(e.name))}},methods:{isEncodedBlob(e){const t=this.columnMap.get(e),a=this.isValueColumn(e),{encoding:s,decodeValues:n}=this.retrievalOptions;return t&&t.type.includes("blob")&&(void 0===s||a&&!n)},getEncodedBlobTooltip(e){const{encoding:t,decodeValues:a}=this.retrievalOptions,s=this.isValueColumn(e);return t?s&&!a?'This value column is encoded. Use the "decode value columns" option to view.':void 0:"Please choose an encoding format in order to decode this blob value"},isValueColumn(e){return!this.partitionKeySet.has(e)&&!this.clusteringKeySet.has(e)},getCellData(e,t){const a=this.columnMap.get(t);if(a){const s=e[t];if(a.type.includes("blob")){const a=`writetime(${t})`;return void 0!==s?s:Object.prototype.hasOwnProperty.call(e,a)&&null===e[a]?void 0:"<blob>"}if(null===s)return null;if(Object(g["b"])(a.type))return Object(g["a"])(a.type,s)}return e[t]},onCellClick(e){this.$emit("select-row",{row:e});const t=Object(b["a"])(this.schema,e,this.retrievalOptions);this.$emit("select-primary-key",{key:t,row:e})},onInsert(){this.$emit("insert")},async onDownloadCQL(){await this.validateDownload("cql")&&this.$emit("download-cql")},onFetchNextPage(){this.$emit("fetch-next-page")},async exportToCsv(){await this.validateDownload("csv")&&this.$emit("download-csv")},async validateDownload(e){if(this.truncatedColumns.length>0){const e=this.truncatedColumns.join(", ");if(!await Object(C["a"])("Truncated Columns Detected",`The following columns have truncated values: [${e}]. Exporting the results may not be an accurate representation of what is stored in this table.`,"Download Anyway","Cancel",T["a"].Warning))return!1}else{if("cql"===e&&this.hasEncodedBlobPrimaryKey)return Object(C["b"])(T["a"].Warning,"Encoded Blob Primary Key Detected","Cannot generate insert statements unless the primary key has been decoded. Please go back and choose an encoding format to use so these values can be decoded."),!1;if(this.tableColumns.some(this.isEncodedBlob)&&!await Object(C["a"])("Encoded Blob Column Detected","This table has one or more blob columns that must be decoded before download.<br/><br/>Please go back and choose an encoding format to use so these values can be decoded or you can choose to export without these blob columns.","Download Without Blob Columns","Cancel",T["a"].Warning,{dangerouslyUseHTMLString:!0}))return!1}return!0}}}),S=x,w=a("ec88"),E=a("2877");function k(e){this["$style"]=w["default"].locals||w["default"]}var _=Object(E["a"])(S,s,n,!1,k,null,null);t["a"]=_.exports},ee7b:function(e,t,a){e.exports={title:"CassQueryEditor_title_1QBEF",editor:"CassQueryEditor_editor_2OkLG",messages:"CassQueryEditor_messages_FpPeN","message-text":"CassQueryEditor_message-text_LYEAN",infoIcon:"CassQueryEditor_infoIcon_rTN57"}},f29e:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{attrs:{content:e.getClusteringKeyLabel(e.sort),disabled:e.disableTooltip}},[a("div",{staticStyle:{display:"inline-block"}},[a("font-awesome-icon",{attrs:{icon:e.faList,"fixed-width":""}}),e.sort?a("font-awesome-icon",{staticClass:"spacer__left",attrs:{icon:"ASC"===e.sort.toUpperCase()?e.faSortAmountUp:e.faSortAmountDown,"fixed-width":""}}):e._e()],1)])},n=[],r=a("299c"),o=a.n(r),c=a("2b0e"),i=a("ad3d"),l=a("c074"),u=c["default"].extend({name:"CassClusteringKeyIcon",components:{[o.a.name]:o.a,FontAwesomeIcon:i["a"]},props:{disableTooltip:Boolean,sort:{type:String,validator(e){return!!e&&-1!==["ASC","DESC"].indexOf(e.toUpperCase())}}},data(){return{faList:l["O"],faSortAmountDown:l["X"],faSortAmountUp:l["Y"]}},methods:{getClusteringKeyLabel(e){const t=e?"ASC"===e.toUpperCase()?"(ascending)":"(descending)":"";return"Clustering Key "+t}}}),d=u,m=a("2877"),p=Object(m["a"])(d,s,n,!1,null,null,null);t["a"]=p.exports},f7be:function(e,t,a){"use strict";a.r(t),a.d(t,"addKeyFields",(function(){return n})),a.d(t,"deleteKeyFields",(function(){return r})),a.d(t,"updateKeyFields",(function(){return o}));var s=a("38cd");async function n(e,t,a,n){const r=await Object(s["a"])().post(`/REST/datastores/dynomite/clusters/${e}/fields/${t}`,{type:a,values:n});return r.data}async function r(e,t,a,n){const r=await Object(s["a"])().delete(`/REST/datastores/dynomite/clusters/${e}/fields/${t}`,{data:{type:a,values:n}});return r.data}async function o(e,t,a,n){const r=await Object(s["a"])().put(`/REST/datastores/dynomite/clusters/${e}/fields/${t}`,{type:a,values:n});return r.data}},f970:function(e,t,a){"use strict";var s=a("b166"),n=a("6612"),r=a.n(n);function o(e,t){const a=new Set(e);for(const s of t)a.delete(s);return a}function c(e){const t=new Map,a=new Map;e.partitionKeys.forEach((e,a)=>t.set(e.name,a)),e.clusteringKeys.forEach((e,t)=>a.set(e.name,t));const s=JSON.parse(JSON.stringify(e.columns)),n=s.sort((e,s)=>{const n=t.has(e.name),r=t.has(s.name),o=a.has(e.name),c=a.has(s.name);return n&&!r?-1:!n&&r?1:n&&r?t.get(e.name)-t.get(s.name):o&&!c?-1:!o&&c?1:o&&c?a.get(e.name)-a.get(s.name):e.name<s.name?-1:e.name>s.name?1:0});return n}function i(e,t,a){const s=new Array;for(let n=0;n<t.length;n++){let r=e+" WHERE\n\t";r+=t.slice(0,n+1).join(" AND\n\t"),s.push(a?`${r} ${a}`:r)}return s}function l(e,t,a,s){const n=e=>`${e} = :${e.toLowerCase()}`,r=a.map(n),o=s.map(n),c=`SELECT * FROM "${e}"."${t}"`,l="LIMIT 1";let u=[`${c} ${l}`];return u=u.concat(i(c,r,l)),o.length>0&&(u=u.concat(i(c,r.concat(o),l))),u}function u(e){if(0===e)return"0 (TTL disabled)";const t=Object(s["a"])(Date.now()+1e3*e,"MM/dd/yyyy HH:mm:ss");return`${r()(e).format()} seconds (${t})`}function d(e){return new Set([...e.partitionKeys.map(e=>e.name),...e.clusteringKeys.map(e=>e.name)])}function m(e){const t=d(e);return e.columns.filter(e=>!t.has(e.name))}function p(e){const t=new RegExp(/^\s*CREATE\s*TABLE\s*(?:(?:"(\w+)")|(\w+))\.(?:(?:"(\w+)")|(\w+))\s+.*$/,"gim"),a=t.exec(e);if(a){const[,e,t,s,n]=a;return{keyspaceName:e||t,tableName:s||n}}return{keyspaceName:void 0,tableName:void 0}}function y(e,t){const a=d(e),{primaryKey:s}=t,n=Object.entries(s).reduce((e,[t,a])=>(void 0!==a.value&&e.add(t),e),new Set);return o(a,n)}function h(e,t){const{primaryKey:a}=e,s=a.reduce((e,{name:t,type:a})=>a.includes("blob")?e.add(t):e,new Set);return 0===s.size||void 0!==t.options.encoding}function f(e){const{partitionKeys:t,clusteringKeys:a,columns:s}=e;return{partitionKeySet:new Set(t.map(e=>e.name)),clusteringKeySet:new Set(a.map(e=>e.name)),columnTypeMap:s.reduce((e,t)=>(e.set(t.name,t.dataType),e),new Map)}}a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return y})),a.d(t,"i",(function(){return h})),a.d(t,"e",(function(){return f}))},fc60:function(e,t,a){"use strict";var s;a.d(t,"a",(function(){return s})),function(e){e["FetchEnvironments"]="FetchEnvironments",e["FetchClusters"]="FetchClusters",e["FetchDatacenters"]="FetchDatacenters",e["FetchDataTypes"]="FetchDataTypes",e["FetchUserInfo"]="FetchUserInfo",e["FetchKeyspaces"]="FetchKeyspaces",e["FetchKeyspaceTables"]="FetchKeyspaceTables",e["FetchKeyspaceDataTypes"]="FetchKeyspaceDataTypes",e["FetchTable"]="FetchTable",e["FetchSchema"]="FetchSchema",e["FetchCassandraFeatures"]="FetchCassandraFeatures",e["LoadQueryHistory"]="LoadQueryHistory",e["AddQueryToHistory"]="AddQueryToHistory",e["SetCurrentKeyspace"]="SetCurrentKeyspace",e["SetCurrentCluster"]="SetCurrentCluster",e["FetchClusterInfo"]="FetchClusterInfo",e["SetDatastoreScope"]="SetDatastoreScope"}(s||(s={}))}});
//# sourceMappingURL=app.1086841e.js.map